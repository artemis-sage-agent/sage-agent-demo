<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S.T.R.I.K.E. Fleet Analyzer — Fleet Intelligence for Star Atlas</title>
    <meta name="description" content="S.T.R.I.K.E. AI-powered faction analysis and ship optimization for Star Atlas: Golden Era. Real-time Galaxy API integration with verifiable recommendations.">
    
    <!-- Favicon -->
    <link rel="icon" href="../assets/favicon.svg" type="image/svg+xml">
    <link rel="icon" href="../assets/favicon.svg" type="image/x-icon">

    <!-- Fonts: Satoshi (body) + General Sans (display) from Fontshare -->
    <link href="https://api.fontshare.com/v2/css?f[]=satoshi@300,400,500,700,900&f[]=general-sans@400,500,600,700&display=swap" rel="stylesheet">

    <style>
        /* ═══════════════════════════════════════════════════════
           Design System — Refined Luxury Minimal
           Matching index.html exactly
        ═══════════════════════════════════════════════════════ */

        :root {
            --bg:         #0c0c0c;
            --bg-raised:  #111111;
            --bg-subtle:  #161616;
            --border:     rgba(255, 255, 255, 0.06);
            --border-hover: rgba(255, 255, 255, 0.12);

            --text-primary:   #fafafa;
            --text-secondary: #a0a0a0;
            --text-tertiary:  #606060;

            --accent:     #00d4aa;
            --accent-dim: rgba(0, 212, 170, 0.12);

            --radius:     10px;
            --radius-lg:  16px;

            --font-body:    'Satoshi', -apple-system, system-ui, sans-serif;
            --font-display: 'General Sans', 'Satoshi', -apple-system, system-ui, sans-serif;
        }

        /* ── Reset ── */
        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            font-family: var(--font-body);
            background: var(--bg);
            color: var(--text-primary);
            line-height: 1.7;
            font-weight: 400;
            overflow-x: hidden;
        }

        a { color: inherit; text-decoration: none; }

        /* ── Tactical acronym styling ── */
        .tactical-acronym {
            letter-spacing: 0.15em;
            font-weight: 700;
        }
        img { max-width: 100%; display: block; }

        /* ── Selection ── */
        ::selection {
            background: var(--accent-dim);
            color: var(--accent);
        }

        /* ── Scroll-triggered fade-in ── */
        .reveal {
            opacity: 0;
            transform: translateY(24px);
            transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1),
                        transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* ═══════════════════════════════════════════════════════
           Navigation — Floating Pill (matching homepage)
        ═══════════════════════════════════════════════════════ */

        nav {
            position: fixed;
            top: 16px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            padding: 0.8rem 1.6rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 2rem;
            background: rgba(12, 12, 12, 0.6);
            backdrop-filter: blur(24px) saturate(1.4);
            -webkit-backdrop-filter: blur(24px) saturate(1.4);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 100px;
            max-width: 900px;
            width: calc(100% - 2rem);
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        nav.scrolled {
            background: rgba(12, 12, 12, 0.85);
            border-color: rgba(255,255,255,0.1);
            box-shadow: 0 8px 32px rgba(0,0,0,0.4);
        }

        .nav-logo {
            font-family: var(--font-display);
            font-size: 0.95rem;
            font-weight: 600;
            letter-spacing: 0.12em;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            white-space: nowrap;
        }

        .nav-logo .dot {
            width: 6px;
            height: 6px;
            background: var(--accent);
            border-radius: 50%;
            display: inline-block;
            box-shadow: 0 0 8px var(--accent);
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 1.8rem;
            list-style: none;
        }

        .nav-links a {
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--text-secondary);
            letter-spacing: 0.02em;
            transition: color 0.3s;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--accent);
            transition: width 0.3s;
        }

        .nav-links a:hover { color: var(--text-primary); }
        .nav-links a:hover::after { width: 100%; }
        .nav-links a.active { color: var(--accent); }

        .nav-cta {
            font-size: 0.78rem !important;
            font-weight: 600 !important;
            color: var(--bg) !important;
            background: var(--text-primary);
            padding: 0.45rem 1.2rem;
            border-radius: 100px;
            transition: all 0.3s !important;
        }

        .nav-cta::after { display: none !important; }

        .nav-cta:hover { opacity: 0.85; transform: translateY(-1px); box-shadow: 0 4px 16px rgba(255,255,255,0.15); }

        /* ═══════════════════════════════════════════════════════
           Container & Layout
        ═══════════════════════════════════════════════════════ */

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        main {
            min-height: 100vh;
            padding-top: 8rem;
            padding-bottom: 4rem;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-label {
            font-family: var(--font-display);
            font-size: 0.7rem;
            font-weight: 600;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            color: var(--accent);
            margin-bottom: 1.5rem;
        }

        .section-title {
            font-family: var(--font-display);
            font-size: clamp(1.8rem, 3.5vw, 2.6rem);
            font-weight: 600;
            line-height: 1.15;
            letter-spacing: -0.025em;
            margin-bottom: 1.2rem;
        }

        .section-desc {
            font-size: 1.05rem;
            color: var(--text-secondary);
            max-width: 520px;
            line-height: 1.75;
            margin: 0 auto;
        }

        /* ═══════════════════════════════════════════════════════
           Wallet Input Section
        ═══════════════════════════════════════════════════════ */

        .wallet-section {
            background: var(--bg-raised);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 2.5rem;
            margin: 3rem 0;
            text-align: center;
        }

        .wallet-section:hover {
            border-color: var(--border-hover);
        }

        .wallet-title {
            font-family: var(--font-display);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .wallet-subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .wallet-input-group {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
        }

        .wallet-input {
            width: 100%;
            padding: 1rem 1.25rem;
            background: var(--bg-raised);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            color: var(--text-primary);
            font-family: var(--font-body);
            font-size: 0.9rem;
            transition: all 0.25s ease;
            margin-bottom: 1rem;
        }

        .wallet-input::placeholder {
            color: var(--text-tertiary);
        }

        .wallet-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(0, 212, 170, 0.1);
        }

        .wallet-input.error {
            border-color: #ef4444;
        }

        .wallet-error {
            color: #ef4444;
            font-size: 0.8rem;
            text-align: left;
            margin-bottom: 1rem;
            display: none;
        }

        .wallet-error.visible {
            display: block;
        }

        .wallet-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .wallet-btn {
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius);
            border: none;
            font-family: var(--font-display);
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.25s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .wallet-btn-primary {
            background: var(--accent);
            color: var(--bg);
        }

        .wallet-btn-primary:hover {
            background: #00c499;
            transform: translateY(-1px);
        }

        .wallet-btn-primary:disabled {
            background: var(--text-tertiary);
            cursor: not-allowed;
            transform: none;
        }

        .wallet-btn-secondary {
            background: var(--bg-subtle);
            color: var(--text-secondary);
            border: 1px solid var(--border);
        }

        .wallet-btn-secondary:hover {
            background: var(--bg-raised);
            color: var(--text-primary);
            border-color: var(--border-hover);
        }

        .wallet-helper {
            margin-top: 1.5rem;
            font-size: 0.8rem;
            color: var(--text-tertiary);
            line-height: 1.6;
        }

        /* ═══════════════════════════════════════════════════════
           Your Fleet Section
        ═══════════════════════════════════════════════════════ */

        .your-fleet-section {
            background: var(--bg-raised);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            margin: 2rem 0;
            overflow: hidden;
            display: none;
        }

        .your-fleet-section.visible {
            display: block;
        }

        .your-fleet-section:hover {
            border-color: var(--border-hover);
        }

        .fleet-header {
            background: linear-gradient(135deg, var(--accent-dim), var(--bg-subtle));
            padding: 2rem 2.5rem;
            border-bottom: 1px solid var(--border);
        }

        .fleet-title {
            font-family: var(--font-display);
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .fleet-subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .fleet-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.5rem;
            padding: 2rem 2.5rem;
        }

        .fleet-stat {
            text-align: center;
        }

        .fleet-stat-value {
            font-family: var(--font-display);
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.25rem;
        }

        .fleet-stat-label {
            font-size: 0.8rem;
            color: var(--text-tertiary);
            letter-spacing: 0.02em;
        }

        /* ═══════════════════════════════════════════════════════
           Fleet Composition Score
        ═══════════════════════════════════════════════════════ */

        .composition-score {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), var(--bg-subtle));
            border: 1px solid rgba(245, 158, 11, 0.2);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin: 2rem 0;
            text-align: center;
        }

        .score-title {
            font-family: var(--font-display);
            font-size: 1rem;
            font-weight: 600;
            color: #f59e0b;
            margin-bottom: 0.5rem;
        }

        .score-value {
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 700;
            color: #f59e0b;
            margin-bottom: 0.5rem;
        }

        .score-desc {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* ═══════════════════════════════════════════════════════
           Personalized Recommendations
        ═══════════════════════════════════════════════════════ */

        .personalized-recommendations {
            background: var(--bg-raised);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            margin: 2rem 0;
            overflow: hidden;
            display: none;
        }

        .personalized-recommendations.visible {
            display: block;
        }

        .personalized-recommendations:hover {
            border-color: var(--border-hover);
        }

        .personal-rec-header {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), var(--bg-subtle));
            padding: 2rem 2.5rem;
            border-bottom: 1px solid var(--border);
        }

        .personal-rec-title {
            font-family: var(--font-display);
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #3b82f6;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .personal-rec-content {
            padding: 2rem 2.5rem;
        }

        .rec-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .rec-card {
            background: var(--bg-subtle);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1.5rem;
            border-left: 3px solid #3b82f6;
        }

        .rec-card-title {
            font-family: var(--font-display);
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .rec-card-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .earnings-estimate {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), var(--bg-subtle));
            border: 1px solid rgba(245, 158, 11, 0.2);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-top: 1.5rem;
            text-align: center;
        }

        .earnings-title {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .earnings-value {
            font-family: var(--font-display);
            font-size: 1.8rem;
            font-weight: 700;
            color: #f59e0b;
            margin-bottom: 0.25rem;
        }

        .earnings-period {
            font-size: 0.8rem;
            color: var(--text-tertiary);
        }

        /* ═══════════════════════════════════════════════════════
           No Fleet State
        ═══════════════════════════════════════════════════════ */

        .no-fleet-state {
            text-align: center;
            padding: 3rem 2rem;
            color: var(--text-secondary);
            display: none;
        }

        .no-fleet-state.visible {
            display: block;
        }

        .no-fleet-icon {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            opacity: 0.5;
        }

        .no-fleet-title {
            font-family: var(--font-display);
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .no-fleet-desc {
            font-size: 0.9rem;
            line-height: 1.6;
            max-width: 400px;
            margin: 0 auto;
        }

        /* ═══════════════════════════════════════════════════════
           Faction Selector — Elegant Pills
        ═══════════════════════════════════════════════════════ */

        .faction-selector {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 3rem 0;
            flex-wrap: wrap;
        }

        .faction-pill {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            background: var(--bg-raised);
            border: 1px solid var(--border);
            border-radius: 100px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            font-family: var(--font-display);
            font-size: 0.9rem;
            font-weight: 500;
            letter-spacing: 0.02em;
            color: var(--text-secondary);
        }

        .faction-pill:hover {
            border-color: var(--border-hover);
            background: var(--bg-subtle);
            transform: translateY(-2px);
        }

        .faction-pill.active {
            background: var(--accent-dim);
            border-color: rgba(0, 212, 170, 0.3);
            color: var(--accent);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 212, 170, 0.15);
        }

        .faction-icon {
            font-size: 1.2rem;
        }

        .faction-name {
            font-weight: 600;
        }

        .faction-subtitle {
            font-size: 0.7rem;
            opacity: 0.7;
            margin-left: 0.5rem;
        }

        /* ═══════════════════════════════════════════════════════
           Analysis Cards & Results
        ═══════════════════════════════════════════════════════ */

        .analysis-card {
            background: var(--bg-raised);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            margin: 2rem 0;
            overflow: hidden;
            transition: border-color 0.3s ease;
        }

        .analysis-card:hover {
            border-color: var(--border-hover);
        }

        .card-header {
            padding: 2rem 2.5rem;
            border-bottom: 1px solid var(--border);
            background: var(--bg-subtle);
        }

        .card-title {
            font-family: var(--font-display);
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .card-subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .card-content {
            padding: 2.5rem;
        }

        /* ═══════════════════════════════════════════════════════
           Loading State
        ═══════════════════════════════════════════════════════ */

        .loading-state {
            display: none;
            text-align: center;
            padding: 4rem 2rem;
        }

        .loading-state.visible {
            display: block;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 2px solid var(--border);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1.5rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        /* ═══════════════════════════════════════════════════════
           Results Grid
        ═══════════════════════════════════════════════════════ */

        .results-container {
            display: none;
        }

        .results-container.visible {
            display: block;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: var(--bg-raised);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1.5rem;
            text-align: center;
            transition: background 0.25s ease;
        }

        .stat-card:hover {
            background: var(--bg-subtle);
        }

        .stat-icon {
            font-size: 1.5rem;
            margin-bottom: 0.75rem;
        }

        .stat-value {
            font-family: var(--font-display);
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
            color: var(--accent);
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-tertiary);
            letter-spacing: 0.02em;
        }

        /* ═══════════════════════════════════════════════════════
           Info Cards
        ═══════════════════════════════════════════════════════ */

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .info-card {
            background: var(--bg-raised);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1.5rem;
        }

        .info-card h4 {
            font-family: var(--font-display);
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .info-list {
            list-style: none;
        }

        .info-list li {
            padding: 0.4rem 0;
            font-size: 0.9rem;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border);
        }

        .info-list li:last-child {
            border-bottom: none;
        }

        /* ═══════════════════════════════════════════════════════
           Ships Grid
        ═══════════════════════════════════════════════════════ */

        .ships-section {
            margin-top: 3rem;
        }

        .ships-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .ship-card {
            background: var(--bg-raised);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1.2rem;
            transition: all 0.25s ease;
        }

        .ship-card:hover {
            background: var(--bg-subtle);
            border-color: var(--border-hover);
        }

        .ship-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }

        .ship-rarity {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .ship-name {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .ship-info {
            font-size: 0.75rem;
            color: var(--text-tertiary);
            margin-bottom: 0.5rem;
        }

        .ship-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .ship-stat {
            display: flex;
            justify-content: space-between;
        }

        .ship-tags {
            display: flex;
            gap: 0.25rem;
            flex-wrap: wrap;
        }

        .ship-tag {
            font-size: 0.65rem;
            padding: 0.2rem 0.5rem;
            background: var(--bg-subtle);
            border-radius: 4px;
            color: var(--text-secondary);
        }

        /* ═══════════════════════════════════════════════════════
           Recommendations
        ═══════════════════════════════════════════════════════ */

        .recommendations-section {
            margin-top: 3rem;
        }

        .recommendation-card {
            background: var(--bg-raised);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-left: 3px solid var(--accent);
        }

        .recommendation-card:last-child {
            margin-bottom: 0;
        }

        .rec-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .rec-title {
            font-weight: 600;
            color: var(--text-primary);
        }

        .rec-priority {
            font-size: 0.7rem;
            padding: 0.25rem 0.6rem;
            border-radius: 100px;
            background: var(--accent-dim);
            color: var(--accent);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .rec-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* ═══════════════════════════════════════════════════════
           Footer
        ═══════════════════════════════════════════════════════ */

        footer {
            border-top: 1px solid rgba(255, 255, 255, 0.06);
            padding: 4rem 2rem 3rem;
            margin-top: 6rem;
            background: var(--bg-subtle);
        }

        .footer-inner {
            max-width: 1100px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 4rem;
            align-items: start;
        }

        .footer-logo {
            font-family: var(--font-display);
            font-size: 1.1rem;
            font-weight: 600;
            letter-spacing: 0.12em;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .footer-desc {
            font-size: 0.85rem;
            color: var(--text-tertiary);
            margin: 0;
        }

        .footer-nav {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 3rem;
        }

        .footer-section h4 {
            font-family: var(--font-display);
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
            letter-spacing: 0.02em;
        }

        .footer-section ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .footer-section li {
            margin-bottom: 0.6rem;
        }

        .footer-section a {
            font-size: 0.85rem;
            color: var(--text-secondary);
            transition: color 0.25s ease;
            letter-spacing: 0.01em;
        }

        .footer-section a:hover {
            color: var(--accent);
        }

        .footer-section a[target="_blank"]::after {
            content: '↗';
            margin-left: 0.4rem;
            font-size: 0.75rem;
            opacity: 0.6;
        }

        .footer-bottom {
            max-width: 1100px;
            margin: 3rem auto 0;
            padding-top: 2rem;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.78rem;
            color: var(--text-tertiary);
        }

        /* ═══════════════════════════════════════════════════════
           Responsive
        ═══════════════════════════════════════════════════════ */

        @media (max-width: 768px) {
            nav { top: 8px; padding: 0.65rem 1.2rem; border-radius: 16px; }
            .nav-links { display: none; }

            main { padding-top: 6rem; }
            .container { padding: 0 1.5rem; }

            .wallet-section { padding: 2rem 1.5rem; }
            .wallet-buttons { flex-direction: column; align-items: center; }
            .wallet-btn { width: 100%; max-width: 250px; justify-content: center; }

            .faction-selector {
                flex-direction: column;
                align-items: center;
                gap: 0.75rem;
            }

            .faction-pill {
                width: 100%;
                max-width: 280px;
                justify-content: center;
            }

            .stats-grid, .fleet-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .info-grid, .rec-grid {
                grid-template-columns: 1fr;
            }

            .ships-grid {
                grid-template-columns: 1fr;
            }

            footer {
                padding: 3rem 1.5rem 2rem;
                margin-top: 4rem;
            }
            
            .footer-inner {
                grid-template-columns: 1fr;
                gap: 2.5rem;
                text-align: center;
            }
            
            .footer-nav {
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
            }

            .footer-bottom {
                flex-direction: column;
                gap: 0.5rem;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .footer-nav {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
        }

        /* ── Grain overlay — very subtle texture ── */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.015;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            background-repeat: repeat;
            background-size: 128px 128px;
        }
    </style>
</head>
<body>

    <!-- ════════════════════════════════════════════════════
         Navigation — Matching index.html exactly
    ════════════════════════════════════════════════════ -->
    <nav>
        <a href="../index.html" class="nav-logo">
            <span class="dot"></span>
            <span class="tactical-acronym">S.T.R.I.K.E.</span>
        </a>
        <ul class="nav-links">
            <li><a href="../index.html#features">Features</a></li>
            <li><a href="../index.html#how-it-works">How It Works</a></li>
            <li><a href="dashboard.html">Dashboard</a></li>
            <li><a href="analyzer.html" class="active">Analyzer</a></li>
            <li><a href="../docs/manifesto.html">Manifesto</a></li>
            <li><a href="../docs/roadmap.html">Roadmap</a></li>
            <li><a href="https://github.com/artemis-sage-agent/sage-agent-demo" target="_blank" rel="noopener">GitHub</a></li>
            <li><a href="#" class="nav-cta">Launch App</a></li>
        </ul>
    </nav>

    <!-- ════════════════════════════════════════════════════
         Main Content
    ════════════════════════════════════════════════════ -->
    <main>
        <div class="container">
            <div class="section-header reveal">
                <p class="section-label">Fleet Intelligence</p>
                <h1 class="section-title"><span class="tactical-acronym">S.T.R.I.K.E.</span> Fleet Analyzer</h1>
                <p class="section-desc">
                    Deep faction analysis powered by real Star Atlas ship data. 
                    Connect your wallet for personalized fleet recommendations, or explore faction strategies with actual SAGE mechanics.
                </p>
            </div>

            <!-- ════════════════════════════════════════════════════
                 Wallet Input Section
            ════════════════════════════════════════════════════ -->
            <div class="wallet-section reveal">
                <h2 class="wallet-title">Connect Your Fleet</h2>
                <p class="wallet-subtitle">Connect your wallet to see personalized fleet recommendations with real ship stats</p>
                
                <div class="wallet-input-group">
                    <input 
                        type="text" 
                        class="wallet-input" 
                        id="walletInput" 
                        placeholder="Enter your Solana wallet address..."
                        autocomplete="off"
                        spellcheck="false"
                    >
                    <div class="wallet-error" id="walletError"></div>
                    
                    <div class="wallet-buttons">
                        <button class="wallet-btn wallet-btn-primary" id="analyzeFleetBtn" onclick="analyzeWallet()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"/>
                                <path d="M21 21l-4.35-4.35"/>
                            </svg>
                            Analyze Fleet
                        </button>
                        
                        <button class="wallet-btn wallet-btn-secondary" onclick="tryDemo()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="13,2 3,14 12,22 22,10"/>
                            </svg>
                            Try Demo
                        </button>
                        
                        <button class="wallet-btn wallet-btn-secondary" onclick="tryDemoWallet()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="22" y1="2" x2="11" y2="13"/>
                                <polygon points="22,2 15,22 11,13 2,9"/>
                            </svg>
                            Try Demo Wallet
                        </button>
                    </div>
                    
                    <p class="wallet-helper">
                        Enter your Solana wallet address to analyze your Star Atlas fleet with real ship statistics. 
                        No wallet connection required — we only read public blockchain data.
                    </p>
                </div>
            </div>

            <!-- ════════════════════════════════════════════════════
                 Your Fleet Section
            ════════════════════════════════════════════════════ -->
            <div class="your-fleet-section" id="yourFleetSection">
                <div class="fleet-header">
                    <h3 class="fleet-title">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 7l5 5-5 5"/>
                            <path d="M6 12h12"/>
                        </svg>
                        Your Fleet
                    </h3>
                    <p class="fleet-subtitle" id="fleetWalletAddress"></p>
                </div>
                
                <div class="fleet-stats" id="fleetStats">
                    <!-- Will be populated by JavaScript -->
                </div>
                
                <div class="composition-score" id="compositionScore">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <!-- ════════════════════════════════════════════════════
                 Personalized Recommendations
            ════════════════════════════════════════════════════ -->
            <div class="personalized-recommendations" id="personalizedRecommendations">
                <div class="personal-rec-header">
                    <h3 class="personal-rec-title">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="22" y1="2" x2="11" y2="13"/>
                            <polygon points="22,2 15,22 11,13 2,9"/>
                        </svg>
                        Personalized Recommendations
                    </h3>
                    <p class="fleet-subtitle">AI-powered insights based on your actual fleet composition with real SAGE mechanics</p>
                </div>
                
                <div class="personal-rec-content" id="personalRecContent">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <!-- ════════════════════════════════════════════════════
                 No Fleet Found State
            ════════════════════════════════════════════════════ -->
            <div class="no-fleet-state" id="noFleetState">
                <div class="no-fleet-icon">
                    <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="15" y1="9" x2="9" y2="15"/>
                        <line x1="9" y1="9" x2="15" y2="15"/>
                    </svg>
                </div>
                <h3 class="no-fleet-title">No Star Atlas Fleet Found</h3>
                <p class="no-fleet-desc">
                    No Star Atlas assets found for this wallet. Try a different address or explore faction strategies below.
                    Make sure you own Star Atlas NFTs (ships) for analysis.
                </p>
            </div>

            <!-- Faction Selector -->
            <div class="faction-selector reveal">
                <div class="faction-pill active" data-faction="mud" onclick="selectFaction('mud')">
                    <div class="faction-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 7V4a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3"/>
                            <path d="M16 21V8a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v13"/>
                            <path d="M6 11h8"/>
                            <path d="M6 15h8"/>
                        </svg>
                    </div>
                    <div>
                        <div class="faction-name">MUD</div>
                        <div class="faction-subtitle">Industrial Might</div>
                    </div>
                </div>
                
                <div class="faction-pill" data-faction="oni" onclick="selectFaction('oni')">
                    <div class="faction-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                            <circle cx="12" cy="12" r="3"/>
                        </svg>
                    </div>
                    <div>
                        <div class="faction-name">ONI</div>
                        <div class="faction-subtitle">Technological Edge</div>
                    </div>
                </div>
                
                <div class="faction-pill" data-faction="ustur" onclick="selectFaction('ustur')">
                    <div class="faction-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="4" y="4" width="6" height="6"/>
                            <rect x="14" y="4" width="6" height="6"/>
                            <rect x="4" y="14" width="6" height="6"/>
                            <rect x="14" y="14" width="6" height="6"/>
                            <line x1="9" y1="9" x2="15" y2="15"/>
                            <line x1="15" y1="9" x2="9" y2="15"/>
                        </svg>
                    </div>
                    <div>
                        <div class="faction-name">USTUR</div>
                        <div class="faction-subtitle">Automation Elite</div>
                    </div>
                </div>
            </div>

            <!-- Loading State -->
            <div class="loading-state" id="loadingState">
                <div class="loading-spinner"></div>
                <p class="loading-text">Calculating with real ship stats...</p>
            </div>

            <!-- Results Container -->
            <div class="results-container" id="resultsContainer">
                <!-- Analysis Card -->
                <div class="analysis-card reveal">
                    <div class="card-header">
                        <h2 class="card-title" id="factionTitle">MUD — Manus Ultimus Dei</h2>
                        <p class="card-subtitle" id="factionDescription">The industrial powerhouse of Star Atlas, dominating manufacturing and resource extraction across the galaxy.</p>
                    </div>
                    
                    <div class="card-content">
                        <!-- Stats Grid -->
                        <div class="stats-grid" id="statsGrid">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                        <path d="M13 7l5 5-5 5M6 12h12"/>
                                    </svg>
                                </div>
                                <div class="stat-value" id="shipCount">0</div>
                                <div class="stat-label">Available Ships</div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                        <circle cx="12" cy="12" r="10"/>
                                        <line x1="22" y1="2" x2="11" y2="13"/>
                                    </svg>
                                </div>
                                <div class="stat-value" id="avgMiningRate">0</div>
                                <div class="stat-label">Avg Mining Rate</div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                        <line x1="9" y1="9" x2="15" y2="15"/>
                                        <line x1="15" y1="9" x2="9" y2="15"/>
                                    </svg>
                                </div>
                                <div class="stat-value" id="avgCargo">0</div>
                                <div class="stat-label">Avg Cargo</div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                        <path d="M13 7l5 5-5 5"/>
                                        <path d="M6 12h12"/>
                                    </svg>
                                </div>
                                <div class="stat-value" id="avgWarpSpeed">0</div>
                                <div class="stat-label">Avg Warp Speed</div>
                            </div>
                        </div>

                        <!-- Info Grid -->
                        <div class="info-grid">
                            <div class="info-card">
                                <h4>
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                        <circle cx="12" cy="12" r="10"/>
                                        <circle cx="12" cy="12" r="6"/>
                                        <circle cx="12" cy="12" r="2"/>
                                    </svg>
                                    Top Mining Ships
                                </h4>
                                <ul class="info-list" id="topMiners">
                                    <!-- Will be populated by JS -->
                                </ul>
                            </div>
                            
                            <div class="info-card">
                                <h4>
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                        <path d="m12 1 3 3v6a6 6 0 1 1-12 0V4l3-3z"/>
                                        <path d="M12 8v13"/>
                                    </svg>
                                    Best Cargo Ships
                                </h4>
                                <ul class="info-list" id="topCargo">
                                    <!-- Will be populated by JS -->
                                </ul>
                            </div>
                            
                            <div class="info-card">
                                <h4>
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                        <circle cx="12" cy="12" r="10"/>
                                        <circle cx="12" cy="12" r="6"/>
                                        <circle cx="12" cy="12" r="2"/>
                                        <path d="m8 3 4 8 5-3"/>
                                    </svg>
                                </h4>
                                <ul class="info-list" id="optimalSectors">
                                    <!-- Will be populated by JS -->
                                </ul>
                            </div>
                            
                            <div class="info-card">
                                <h4>
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                        <circle cx="12" cy="12" r="10"/>
                                        <line x1="22" y1="2" x2="11" y2="13"/>
                                        <polygon points="22,2 15,22 11,13 2,9"/>
                                    </svg>
                                    Strategic Focus
                                </h4>
                                <ul class="info-list" id="strategicFocus">
                                    <!-- Will be populated by JS -->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ships Section -->
                <div class="ships-section reveal">
                    <div class="analysis-card">
                        <div class="card-header">
                            <h3 class="card-title">Fleet Composition — Real Ship Stats</h3>
                            <p class="card-subtitle">Ships with actual SAGE statistics from the game's data files</p>
                        </div>
                        
                        <div class="card-content">
                            <div class="ships-grid" id="shipsGrid">
                                <!-- Will be populated by JS -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recommendations Section -->
                <div class="recommendations-section reveal">
                    <div class="analysis-card">
                        <div class="card-header">
                            <h3 class="card-title">Strategic Recommendations</h3>
                            <p class="card-subtitle">AI-powered optimization suggestions based on real ship capabilities</p>
                        </div>
                        
                        <div class="card-content" id="recommendationsContainer">
                            <!-- Will be populated by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // ═══════════════════════════════════════════════════════
        // Real SAGE Ship Stats Data (from CSV)
        // ═══════════════════════════════════════════════════════
        const SAGE_SHIP_STATS = [
            { symbol: "PULSE", shipName: "Busan Pulse", manufacturer: "Busan", spec: "Racer", class: "1", cargoCapacity: 249, fuelCapacity: 450, ammoCapacity: 104, foodConsumptionRate: 0.014, ammoConsumptionRate: 0.013, miningRate: 0.262, subwarpSpeed: 0.0086, warpSpeed: 0.1, maxWarpDistance: 1.8, warpCoolDown: 60, warpFuelConsumptionRate: 19.5, subwarpFuelConsumptionRate: 5.35, planetExitFuelAmount: 5, scanCoolDown: 678, sduPerScan: 7, scanCost: 22, requiredCrew: 1, passengerCapacity: 0, respawnTime: 51 },
            { symbol: "FBLAIR", shipName: "Fimbul Airbike", manufacturer: "Fimbul", spec: "Racer", class: "1", cargoCapacity: 249, fuelCapacity: 450, ammoCapacity: 104, foodConsumptionRate: 0.014, ammoConsumptionRate: 0.013, miningRate: 0.262, subwarpSpeed: 0.0084, warpSpeed: 0.1, maxWarpDistance: 1.75, warpCoolDown: 60, warpFuelConsumptionRate: 18.76, subwarpFuelConsumptionRate: 5.15, planetExitFuelAmount: 5, scanCoolDown: 786, sduPerScan: 6, scanCost: 22, requiredCrew: 1, passengerCapacity: 0, respawnTime: 51 },
            { symbol: "FBLEUN", shipName: "Fimbul ECOS Unibomba", manufacturer: "Fimbul ECOS", spec: "Bomber", class: "1", cargoCapacity: 274, fuelCapacity: 267, ammoCapacity: 336, foodConsumptionRate: 0.014, ammoConsumptionRate: 0.016, miningRate: 0.325, subwarpSpeed: 0.0052, warpSpeed: 0.1, maxWarpDistance: 1.9, warpCoolDown: 60, warpFuelConsumptionRate: 15.48, subwarpFuelConsumptionRate: 4.25, planetExitFuelAmount: 4, scanCoolDown: 600, sduPerScan: 7, scanCost: 22, requiredCrew: 1, passengerCapacity: 0, respawnTime: 72 },
            { symbol: "OGKARU", shipName: "Ogrika Ruch", manufacturer: "Ogrika", spec: "Racer", class: "1", cargoCapacity: 249, fuelCapacity: 450, ammoCapacity: 104, foodConsumptionRate: 0.014, ammoConsumptionRate: 0.013, miningRate: 0.262, subwarpSpeed: 0.0076, warpSpeed: 0.1, maxWarpDistance: 1.6, warpCoolDown: 60, warpFuelConsumptionRate: 17.82, subwarpFuelConsumptionRate: 4.9, planetExitFuelAmount: 5, scanCoolDown: 786, sduPerScan: 6, scanCost: 22, requiredCrew: 1, passengerCapacity: 0, respawnTime: 51 },
            { symbol: "OPALJ", shipName: "Opal Jet", manufacturer: "Opal", spec: "Racer", class: "1", cargoCapacity: 249, fuelCapacity: 450, ammoCapacity: 104, foodConsumptionRate: 0.014, ammoConsumptionRate: 0.013, miningRate: 0.262, subwarpSpeed: 0.0081, warpSpeed: 0.1, maxWarpDistance: 1.95, warpCoolDown: 60, warpFuelConsumptionRate: 18.05, subwarpFuelConsumptionRate: 4.96, planetExitFuelAmount: 5, scanCoolDown: 786, sduPerScan: 6, scanCost: 22, requiredCrew: 1, passengerCapacity: 0, respawnTime: 51 },
            { symbol: "PX4", shipName: "Pearce X4", manufacturer: "Pearce", spec: "Fighter", class: "1", cargoCapacity: 389, fuelCapacity: 267, ammoCapacity: 228, foodConsumptionRate: 0.014, ammoConsumptionRate: 0.016, miningRate: 0.320, subwarpSpeed: 0.0070, warpSpeed: 0.1, maxWarpDistance: 2, warpCoolDown: 60, warpFuelConsumptionRate: 15.48, subwarpFuelConsumptionRate: 4.25, planetExitFuelAmount: 4, scanCoolDown: 720, sduPerScan: 6, scanCost: 22, requiredCrew: 1, passengerCapacity: 0, respawnTime: 72 },
            { symbol: "VZUSSO", shipName: "VZUS solos", manufacturer: "VZUS", spec: "Racer", class: "1", cargoCapacity: 249, fuelCapacity: 450, ammoCapacity: 104, foodConsumptionRate: 0.014, ammoConsumptionRate: 0.013, miningRate: 0.262, subwarpSpeed: 0.0076, warpSpeed: 0.1, maxWarpDistance: 1.8, warpCoolDown: 60, warpFuelConsumptionRate: 18.29, subwarpFuelConsumptionRate: 5.02, planetExitFuelAmount: 5, scanCoolDown: 744, sduPerScan: 6, scanCost: 22, requiredCrew: 1, passengerCapacity: 0, respawnTime: 51 },
            { symbol: "CALMAX", shipName: "Calico Maxhog", manufacturer: "Calico", spec: "Transport", class: "2", cargoCapacity: 2205, fuelCapacity: 1150, ammoCapacity: 288, foodConsumptionRate: 0.067, ammoConsumptionRate: 0.037, miningRate: 0.743, subwarpSpeed: 0.0067, warpSpeed: 0.1, maxWarpDistance: 4.2, warpCoolDown: 120, warpFuelConsumptionRate: 36.97, subwarpFuelConsumptionRate: 10.16, planetExitFuelAmount: 10, scanCoolDown: 696, sduPerScan: 19, scanCost: 51, requiredCrew: 1, passengerCapacity: 1, respawnTime: 89 },
            { symbol: "CALSCD", shipName: "Calico Scud", manufacturer: "Calico", spec: "Racer", class: "2", cargoCapacity: 863, fuelCapacity: 1797, ammoCapacity: 359, foodConsumptionRate: 0.032, ammoConsumptionRate: 0.040, miningRate: 0.810, subwarpSpeed: 0.0078, warpSpeed: 0.1, maxWarpDistance: 3.4, warpCoolDown: 120, warpFuelConsumptionRate: 54.37, subwarpFuelConsumptionRate: 14.94, planetExitFuelAmount: 15, scanCoolDown: 744, sduPerScan: 19, scanCost: 51, requiredCrew: 1, passengerCapacity: 0, respawnTime: 69 },
            { symbol: "FBLLOW", shipName: "Fimbul Lowbie", manufacturer: "Fimbul", spec: "Transport", class: "2", cargoCapacity: 1965, fuelCapacity: 1390, ammoCapacity: 288, foodConsumptionRate: 0.067, ammoConsumptionRate: 0.037, miningRate: 0.743, subwarpSpeed: 0.0061, warpSpeed: 0.1, maxWarpDistance: 4.1, warpCoolDown: 120, warpFuelConsumptionRate: 40.6, subwarpFuelConsumptionRate: 11.15, planetExitFuelAmount: 11, scanCoolDown: 756, sduPerScan: 18, scanCost: 51, requiredCrew: 1, passengerCapacity: 1, respawnTime: 89 },
            { symbol: "OGKANR", shipName: "Ogrika Niruch", manufacturer: "Ogrika", spec: "Transport", class: "2", cargoCapacity: 1965, fuelCapacity: 1390, ammoCapacity: 288, foodConsumptionRate: 0.067, ammoConsumptionRate: 0.037, miningRate: 0.743, subwarpSpeed: 0.0064, warpSpeed: 0.1, maxWarpDistance: 4, warpCoolDown: 120, warpFuelConsumptionRate: 37.7, subwarpFuelConsumptionRate: 10.36, planetExitFuelAmount: 10, scanCoolDown: 732, sduPerScan: 18, scanCost: 51, requiredCrew: 1, passengerCapacity: 1, respawnTime: 89 },
            { symbol: "OPALJJ", shipName: "Opal Jetjet", manufacturer: "Opal", spec: "Racer", class: "2", cargoCapacity: 863, fuelCapacity: 1797, ammoCapacity: 359, foodConsumptionRate: 0.067, ammoConsumptionRate: 0.040, miningRate: 0.810, subwarpSpeed: 0.0081, warpSpeed: 0.1, maxWarpDistance: 3.9, warpCoolDown: 120, warpFuelConsumptionRate: 55.82, subwarpFuelConsumptionRate: 15.34, planetExitFuelAmount: 15, scanCoolDown: 732, sduPerScan: 19, scanCost: 99, requiredCrew: 2, passengerCapacity: 0, respawnTime: 69 },
            { symbol: "PX5", shipName: "Pearce X5", manufacturer: "Pearce", spec: "Fighter", class: "2", cargoCapacity: 1107, fuelCapacity: 923, ammoCapacity: 1270, foodConsumptionRate: 0.067, ammoConsumptionRate: 0.050, miningRate: 0.990, subwarpSpeed: 0.0064, warpSpeed: 0.1, maxWarpDistance: 3.8, warpCoolDown: 120, warpFuelConsumptionRate: 47.85, subwarpFuelConsumptionRate: 13.14, planetExitFuelAmount: 13, scanCoolDown: 756, sduPerScan: 18, scanCost: 99, requiredCrew: 2, passengerCapacity: 0, respawnTime: 96 },
            { symbol: "IMP1", shipName: "Armstrong IMP Tip", manufacturer: "Armstrong", spec: "Miner", class: "3", cargoCapacity: 9323, fuelCapacity: 4894, ammoCapacity: 1161, foodConsumptionRate: 0.161, ammoConsumptionRate: 0.000, miningRate: 6.207, subwarpSpeed: 0.0039, warpSpeed: 0.1, maxWarpDistance: 5.63, warpCoolDown: 180, warpFuelConsumptionRate: 170.36, subwarpFuelConsumptionRate: 46.8, planetExitFuelAmount: 47, scanCoolDown: 732, sduPerScan: 63, scanCost: 243, requiredCrew: 3, passengerCapacity: 1, respawnTime: 125 },
            { symbol: "THRILL", shipName: "Busan Thrill of Life", manufacturer: "Busan", spec: "Fighter", class: "3", cargoCapacity: 3832, fuelCapacity: 4023, ammoCapacity: 4396, foodConsumptionRate: 0.108, ammoConsumptionRate: 0.153, miningRate: 3.062, subwarpSpeed: 0.0070, warpSpeed: 0.1, maxWarpDistance: 4.8, warpCoolDown: 180, warpFuelConsumptionRate: 152.42, subwarpFuelConsumptionRate: 41.87, planetExitFuelAmount: 42, scanCoolDown: 678, sduPerScan: 59, scanCost: 161, requiredCrew: 2, passengerCapacity: 1, respawnTime: 145 },
            { symbol: "CALMED", shipName: "Calico Medtech", manufacturer: "Calico", spec: "Rescue", class: "3", cargoCapacity: 4379, fuelCapacity: 6138, ammoCapacity: 1825, foodConsumptionRate: 0.108, ammoConsumptionRate: 0.125, miningRate: 2.504, subwarpSpeed: 0.0055, warpSpeed: 0.1, maxWarpDistance: 5.1, warpCoolDown: 180, warpFuelConsumptionRate: 114.32, subwarpFuelConsumptionRate: 31.41, planetExitFuelAmount: 31, scanCoolDown: 696, sduPerScan: 64, scanCost: 161, requiredCrew: 2, passengerCapacity: 2, respawnTime: 134 },
            { symbol: "CALSHIP", shipName: "Calico Shipit", manufacturer: "Calico", spec: "Freight", class: "3", cargoCapacity: 11363, fuelCapacity: 4562, ammoCapacity: 622, foodConsumptionRate: 0.108, ammoConsumptionRate: 0.114, miningRate: 2.276, subwarpSpeed: 0.0032, warpSpeed: 0.1, maxWarpDistance: 6.9, warpCoolDown: 180, warpFuelConsumptionRate: 114.32, subwarpFuelConsumptionRate: 31.41, planetExitFuelAmount: 31, scanCoolDown: 798, sduPerScan: 59, scanCost: 161, requiredCrew: 2, passengerCapacity: 1, respawnTime: 104 },
            { symbol: "FBLBEA", shipName: "Fimbul BYOS Earp", manufacturer: "Fimbul BYOS", spec: "Fighter", class: "3", cargoCapacity: 3832, fuelCapacity: 3193, ammoCapacity: 5225, foodConsumptionRate: 0.108, ammoConsumptionRate: 0.153, miningRate: 3.062, subwarpSpeed: 0.0077, warpSpeed: 0.1, maxWarpDistance: 5.03, warpCoolDown: 180, warpFuelConsumptionRate: 161.39, subwarpFuelConsumptionRate: 44.34, planetExitFuelAmount: 44, scanCoolDown: 732, sduPerScan: 57, scanCost: 161, requiredCrew: 2, passengerCapacity: 1, respawnTime: 145 },
            { symbol: "OGKAMK", shipName: "Ogrika Mik", manufacturer: "Ogrika", spec: "Fighter", class: "3", cargoCapacity: 3832, fuelCapacity: 4023, ammoCapacity: 4396, foodConsumptionRate: 0.108, ammoConsumptionRate: 0.153, miningRate: 3.062, subwarpSpeed: 0.0064, warpSpeed: 0.1, maxWarpDistance: 4.8, warpCoolDown: 180, warpFuelConsumptionRate: 152.42, subwarpFuelConsumptionRate: 41.87, planetExitFuelAmount: 42, scanCoolDown: 732, sduPerScan: 57, scanCost: 161, requiredCrew: 2, passengerCapacity: 1, respawnTime: 145 },
            { symbol: "OPALRF", shipName: "Opal Rayfam", manufacturer: "Opal", spec: "Data Runner", class: "3", cargoCapacity: 5640, fuelCapacity: 4147, ammoCapacity: 1659, foodConsumptionRate: 0.108, ammoConsumptionRate: 0.126, miningRate: 2.524, subwarpSpeed: 0.0047, warpSpeed: 0.1, maxWarpDistance: 6.75, warpCoolDown: 180, warpFuelConsumptionRate: 118.8, subwarpFuelConsumptionRate: 32.64, planetExitFuelAmount: 33, scanCoolDown: 312, sduPerScan: 121, scanCost: 0, requiredCrew: 2, passengerCapacity: 1, respawnTime: 134 },
            { symbol: "PR6", shipName: "Pearce R6", manufacturer: "Pearce", spec: "Repair", class: "3", cargoCapacity: 7399, fuelCapacity: 5142, ammoCapacity: 995, foodConsumptionRate: 0.108, ammoConsumptionRate: 0.114, miningRate: 2.286, subwarpSpeed: 0.0058, warpSpeed: 0.1, maxWarpDistance: 6, warpCoolDown: 180, warpFuelConsumptionRate: 112.08, subwarpFuelConsumptionRate: 30.79, planetExitFuelAmount: 31, scanCoolDown: 798, sduPerScan: 64, scanCost: 161, requiredCrew: 2, passengerCapacity: 1, respawnTime: 110 },
            { symbol: "PX6", shipName: "Pearce X6", manufacturer: "Pearce", spec: "Fighter", class: "3", cargoCapacity: 4661, fuelCapacity: 3193, ammoCapacity: 4396, foodConsumptionRate: 0.161, ammoConsumptionRate: 0.153, miningRate: 3.062, subwarpSpeed: 0.0064, warpSpeed: 0.1, maxWarpDistance: 5.7, warpCoolDown: 180, warpFuelConsumptionRate: 147.94, subwarpFuelConsumptionRate: 40.64, planetExitFuelAmount: 41, scanCoolDown: 756, sduPerScan: 57, scanCost: 243, requiredCrew: 3, passengerCapacity: 1, respawnTime: 145 },
            { symbol: "CHI", shipName: "Rainbow Chi", manufacturer: "Rainbow", spec: "Fighter", class: "3", cargoCapacity: 3832, fuelCapacity: 4023, ammoCapacity: 4396, foodConsumptionRate: 0.052, ammoConsumptionRate: 0.153, miningRate: 3.062, subwarpSpeed: 0.0073, warpSpeed: 0.1, maxWarpDistance: 5.85, warpCoolDown: 180, warpFuelConsumptionRate: 138.97, subwarpFuelConsumptionRate: 38.18, planetExitFuelAmount: 38, scanCoolDown: 678, sduPerScan: 59, scanCost: 82, requiredCrew: 1, passengerCapacity: 1, respawnTime: 145 },
            { symbol: "TUFAFE", shipName: "Tufa Feist", manufacturer: "Tufa", spec: "Fighter", class: "3", cargoCapacity: 3832, fuelCapacity: 3193, ammoCapacity: 5225, foodConsumptionRate: 0.108, ammoConsumptionRate: 0.153, miningRate: 3.062, subwarpSpeed: 0.0081, warpSpeed: 0.1, maxWarpDistance: 5.18, warpCoolDown: 180, warpFuelConsumptionRate: 145.7, subwarpFuelConsumptionRate: 40.03, planetExitFuelAmount: 40, scanCoolDown: 720, sduPerScan: 59, scanCost: 161, requiredCrew: 2, passengerCapacity: 1, respawnTime: 145 },
            { symbol: "VZUSAM", shipName: "VZUS ambwe", manufacturer: "VZUS", spec: "Bounty Hunter", class: "3", cargoCapacity: 4180, fuelCapacity: 4313, ammoCapacity: 4645, foodConsumptionRate: 0.161, ammoConsumptionRate: 0.149, miningRate: 2.979, subwarpSpeed: 0.0052, warpSpeed: 0.1, maxWarpDistance: 5.4, warpCoolDown: 180, warpFuelConsumptionRate: 138.97, subwarpFuelConsumptionRate: 38.18, planetExitFuelAmount: 38, scanCoolDown: 600, sduPerScan: 64, scanCost: 243, requiredCrew: 3, passengerCapacity: 1, respawnTime: 125 },
            { symbol: "IMP2", shipName: "Armstrong IMP Tap", manufacturer: "Armstrong", spec: "Miner", class: "4", cargoCapacity: 32270, fuelCapacity: 19810, ammoCapacity: 4019, foodConsumptionRate: 0.380, ammoConsumptionRate: 0.000, miningRate: 19.192, subwarpSpeed: 0.0039, warpSpeed: 0.1, maxWarpDistance: 7.5, warpCoolDown: 240, warpFuelConsumptionRate: 526.72, subwarpFuelConsumptionRate: 144.7, planetExitFuelAmount: 145, scanCoolDown: 732, sduPerScan: 193, scanCost: 570, requiredCrew: 5, passengerCapacity: 3, respawnTime: 182 },
            { symbol: "CALATS", shipName: "Calico ATS Enforcer", manufacturer: "Calico", spec: "Fighter", class: "4", cargoCapacity: 16135, fuelCapacity: 13924, ammoCapacity: 15216, foodConsumptionRate: 0.153, ammoConsumptionRate: 0.473, miningRate: 9.468, subwarpSpeed: 0.0067, warpSpeed: 0.1, maxWarpDistance: 6.8, warpCoolDown: 240, warpFuelConsumptionRate: 464.35, subwarpFuelConsumptionRate: 127.57, planetExitFuelAmount: 128, scanCoolDown: 696, sduPerScan: 181, scanCost: 227, requiredCrew: 2, passengerCapacity: 0, respawnTime: 211 },
            { symbol: "CALCH", shipName: "Calico Compakt Hero", manufacturer: "Calico", spec: "Multi-Role", class: "4", cargoCapacity: 17341, fuelCapacity: 16652, ammoCapacity: 11484, foodConsumptionRate: 0.301, ammoConsumptionRate: 0.425, miningRate: 8.509, subwarpSpeed: 0.0061, warpSpeed: 0.1, maxWarpDistance: 7.2, warpCoolDown: 240, warpFuelConsumptionRate: 353.46, subwarpFuelConsumptionRate: 97.1, planetExitFuelAmount: 97, scanCoolDown: 606, sduPerScan: 193, scanCost: 454, requiredCrew: 4, passengerCapacity: 6, respawnTime: 182 },
            { symbol: "CALEV", shipName: "Calico Evac", manufacturer: "Calico", spec: "Rescue", class: "4", cargoCapacity: 18030, fuelCapacity: 15503, ammoCapacity: 6316, foodConsumptionRate: 0.528, ammoConsumptionRate: 0.387, miningRate: 7.741, subwarpSpeed: 0.0055, warpSpeed: 0.1, maxWarpDistance: 6.8, warpCoolDown: 240, warpFuelConsumptionRate: 353.46, subwarpFuelConsumptionRate: 97.1, planetExitFuelAmount: 97, scanCoolDown: 696, sduPerScan: 197, scanCost: 797, requiredCrew: 7, passengerCapacity: 8, respawnTime: 196 },
            { symbol: "FBLMAM", shipName: "Fimbul Mamba", manufacturer: "Fimbul", spec: "Bounty Hunter", class: "4", cargoCapacity: 17341, fuelCapacity: 14929, ammoCapacity: 16077, foodConsumptionRate: 0.380, ammoConsumptionRate: 0.461, miningRate: 9.212, subwarpSpeed: 0.0049, warpSpeed: 0.1, maxWarpDistance: 6.6, warpCoolDown: 240, warpFuelConsumptionRate: 443.56, subwarpFuelConsumptionRate: 121.86, planetExitFuelAmount: 122, scanCoolDown: 666, sduPerScan: 193, scanCost: 570, requiredCrew: 5, passengerCapacity: 3, respawnTime: 182 },
            { symbol: "FBLMEX", shipName: "Fimbul Mamba EX", manufacturer: "Fimbul", spec: "Bounty Hunter", class: "4", cargoCapacity: 17341, fuelCapacity: 14929, ammoCapacity: 16077, foodConsumptionRate: 0.380, ammoConsumptionRate: 0.461, miningRate: 9.212, subwarpSpeed: 0.0049, warpSpeed: 0.1, maxWarpDistance: 6.6, warpCoolDown: 240, warpFuelConsumptionRate: 443.56, subwarpFuelConsumptionRate: 121.86, planetExitFuelAmount: 122, scanCoolDown: 666, sduPerScan: 193, scanCost: 570, requiredCrew: 5, passengerCapacity: 3, respawnTime: 182 },
            { symbol: "FBLBPL", shipName: "Fimbul BYOS Packlite", manufacturer: "Fimbul BYOS", spec: "Freight", class: "4", cargoCapacity: 45074, fuelCapacity: 18661, ammoCapacity: 2153, foodConsumptionRate: 0.380, ammoConsumptionRate: 0.352, miningRate: 7.037, subwarpSpeed: 0.0048, warpSpeed: 0.1, maxWarpDistance: 9.5, warpCoolDown: 240, warpFuelConsumptionRate: 388.11, subwarpFuelConsumptionRate: 106.62, planetExitFuelAmount: 107, scanCoolDown: 846, sduPerScan: 177, scanCost: 570, requiredCrew: 5, passengerCapacity: 4, respawnTime: 151 },
            { symbol: "FBLBRA", shipName: "Fimbul BYOS Ranger", manufacturer: "Fimbul BYOS", spec: "Data Runner", class: "4", cargoCapacity: 16652, fuelCapacity: 20097, ammoCapacity: 5742, foodConsumptionRate: 0.380, ammoConsumptionRate: 0.390, miningRate: 7.805, subwarpSpeed: 0.0065, warpSpeed: 0.1, maxWarpDistance: 8.3, warpCoolDown: 240, warpFuelConsumptionRate: 388.11, subwarpFuelConsumptionRate: 106.62, planetExitFuelAmount: 107, scanCoolDown: 300, sduPerScan: 378, scanCost: 0, requiredCrew: 5, passengerCapacity: 3, respawnTime: 196 },
            { symbol: "OGKATU", shipName: "Ogrika Tursic", manufacturer: "Ogrika", spec: "Fighter", class: "4", cargoCapacity: 13264, fuelCapacity: 13924, ammoCapacity: 18087, foodConsumptionRate: 0.301, ammoConsumptionRate: 0.473, miningRate: 9.468, subwarpSpeed: 0.0064, warpSpeed: 0.1, maxWarpDistance: 6.8, warpCoolDown: 240, warpFuelConsumptionRate: 471.28, subwarpFuelConsumptionRate: 129.47, planetExitFuelAmount: 129, scanCoolDown: 732, sduPerScan: 177, scanCost: 454, requiredCrew: 4, passengerCapacity: 3, respawnTime: 211 },
            { symbol: "PF4", shipName: "Pearce F4", manufacturer: "Pearce", spec: "Fighter", class: "4", cargoCapacity: 16135, fuelCapacity: 13924, ammoCapacity: 15216, foodConsumptionRate: 0.301, ammoConsumptionRate: 0.473, miningRate: 9.468, subwarpSpeed: 0.0064, warpSpeed: 0.1, maxWarpDistance: 7.6, warpCoolDown: 240, warpFuelConsumptionRate: 457.42, subwarpFuelConsumptionRate: 125.66, planetExitFuelAmount: 126, scanCoolDown: 756, sduPerScan: 177, scanCost: 454, requiredCrew: 4, passengerCapacity: 3, respawnTime: 211 },
            { symbol: "OM", shipName: "Rainbow Om", manufacturer: "Rainbow", spec: "Freight", class: "4", cargoCapacity: 39332, fuelCapacity: 18661, ammoCapacity: 2153, foodConsumptionRate: 0.301, ammoConsumptionRate: 0.352, miningRate: 7.037, subwarpSpeed: 0.0038, warpSpeed: 0.1, maxWarpDistance: 10.2, warpCoolDown: 240, warpFuelConsumptionRate: 318.81, subwarpFuelConsumptionRate: 87.58, planetExitFuelAmount: 88, scanCoolDown: 774, sduPerScan: 181, scanCost: 454, requiredCrew: 4, passengerCapacity: 4, respawnTime: 151 },
            { symbol: "VZUSOP", shipName: "VZUS opod", manufacturer: "VZUS", spec: "Data Runner", class: "4", cargoCapacity: 13781, fuelCapacity: 22968, ammoCapacity: 5742, foodConsumptionRate: 0.380, ammoConsumptionRate: 0.390, miningRate: 7.805, subwarpSpeed: 0.0047, warpSpeed: 0.1, maxWarpDistance: 8.4, warpCoolDown: 240, warpFuelConsumptionRate: 374.25, subwarpFuelConsumptionRate: 102.82, planetExitFuelAmount: 103, scanCoolDown: 300, sduPerScan: 378, scanCost: 0, requiredCrew: 5, passengerCapacity: 3, respawnTime: 196 },
            { symbol: "PMR8", shipName: "Pearce MR8", manufacturer: "Pearce", spec: "Multi-Role", class: "5", cargoCapacity: 90914, fuelCapacity: 65091, ammoCapacity: 34710, foodConsumptionRate: 0.236, ammoConsumptionRate: 1.254, miningRate: 25.078, subwarpSpeed: 0.0051, warpSpeed: 0.1, maxWarpDistance: 10.1, warpCoolDown: 300, warpFuelConsumptionRate: 1221.43, subwarpFuelConsumptionRate: 336, planetExitFuelAmount: 336, scanCoolDown: 753, sduPerScan: 563, scanCost: 355, requiredCrew: 16, passengerCapacity: 19, respawnTime: 256 },
            { symbol: "FBLBBU", shipName: "Fimbul BYOS Butch", manufacturer: "Fimbul BYOS", spec: "Fighter", class: "5", cargoCapacity: 45911, fuelCapacity: 58135, ammoCapacity: 72544, foodConsumptionRate: 1.483, ammoConsumptionRate: 1.464, miningRate: 29.275, subwarpSpeed: 0.0071, warpSpeed: 0.1, maxWarpDistance: 8.38, warpCoolDown: 300, warpFuelConsumptionRate: 1542.87, subwarpFuelConsumptionRate: 423.86, planetExitFuelAmount: 424, scanCoolDown: 732, sduPerScan: 547, scanCost: 2235, requiredCrew: 15, passengerCapacity: 11, respawnTime: 293 },
            { symbol: "FBLEGR", shipName: "Fimbul ECOS Greenader", manufacturer: "Fimbul ECOS", spec: "Bomber", class: "5", cargoCapacity: 59228, fuelCapacity: 58135, ammoCapacity: 58135, foodConsumptionRate: 1.980, ammoConsumptionRate: 1.484, miningRate: 29.670, subwarpSpeed: 0.0041, warpSpeed: 0.1, maxWarpDistance: 8.5, warpCoolDown: 300, warpFuelConsumptionRate: 1414.29, subwarpFuelConsumptionRate: 388.54, planetExitFuelAmount: 389, scanCoolDown: 636, sduPerScan: 585, scanCost: 2980, requiredCrew: 20, passengerCapacity: 11, respawnTime: 293 },
            { symbol: "OGKASP", shipName: "Ogrika Sunpaa", manufacturer: "Ogrika", spec: "Freight", class: "5", cargoCapacity: 156019, fuelCapacity: 64594, ammoCapacity: 7453, foodConsumptionRate: 1.883, ammoConsumptionRate: 1.088, miningRate: 21.758, subwarpSpeed: 0.0035, warpSpeed: 0.1, maxWarpDistance: 11.5, warpCoolDown: 300, warpFuelConsumptionRate: 1114.29, subwarpFuelConsumptionRate: 306.12, planetExitFuelAmount: 306, scanCoolDown: 828, sduPerScan: 560, scanCost: 2828, requiredCrew: 19, passengerCapacity: 15, respawnTime: 209 },
            { symbol: "OGKATP", shipName: "Ogrika Thripid", manufacturer: "Ogrika", spec: "Fighter", class: "5", cargoCapacity: 45911, fuelCapacity: 58135, ammoCapacity: 72544, foodConsumptionRate: 1.090, ammoConsumptionRate: 1.464, miningRate: 29.275, subwarpSpeed: 0.0064, warpSpeed: 0.1, maxWarpDistance: 8, warpCoolDown: 300, warpFuelConsumptionRate: 1457.15, subwarpFuelConsumptionRate: 400.32, planetExitFuelAmount: 400, scanCoolDown: 732, sduPerScan: 547, scanCost: 1642, requiredCrew: 11, passengerCapacity: 11, respawnTime: 293 },
            { symbol: "OPALBB", shipName: "Opal Bitboat", manufacturer: "Opal", spec: "Transport", class: "5", cargoCapacity: 81488, fuelCapacity: 57638, ammoCapacity: 11925, foodConsumptionRate: 2.076, ammoConsumptionRate: 1.098, miningRate: 21.956, subwarpSpeed: 0.0064, warpSpeed: 0.1, maxWarpDistance: 11.75, warpCoolDown: 300, warpFuelConsumptionRate: 1135.72, subwarpFuelConsumptionRate: 312.01, planetExitFuelAmount: 312, scanCoolDown: 744, sduPerScan: 560, scanCost: 3132, requiredCrew: 21, passengerCapacity: 60, respawnTime: 271 },
            { symbol: "PR8", shipName: "Pearce R8", manufacturer: "Pearce", spec: "Refuel/Repair", class: "5", cargoCapacity: 91823, fuelCapacity: 94407, ammoCapacity: 12919, foodConsumptionRate: 1.483, ammoConsumptionRate: 1.093, miningRate: 21.857, subwarpSpeed: 0.0047, warpSpeed: 0.1, maxWarpDistance: 10, warpCoolDown: 300, warpFuelConsumptionRate: 900, subwarpFuelConsumptionRate: 247.25, planetExitFuelAmount: 247, scanCoolDown: 828, sduPerScan: 585, scanCost: 2235, requiredCrew: 15, passengerCapacity: 9, respawnTime: 222 },
            { symbol: "ARC", shipName: "Rainbow Arc", manufacturer: "Rainbow", spec: "Freight", class: "5", cargoCapacity: 156019, fuelCapacity: 64594, ammoCapacity: 7453, foodConsumptionRate: 1.387, ammoConsumptionRate: 1.088, miningRate: 21.758, subwarpSpeed: 0.0038, warpSpeed: 0.1, maxWarpDistance: 12.75, warpCoolDown: 300, warpFuelConsumptionRate: 985.72, subwarpFuelConsumptionRate: 270.8, planetExitFuelAmount: 271, scanCoolDown: 774, sduPerScan: 560, scanCost: 2083, requiredCrew: 14, passengerCapacity: 15, respawnTime: 209 },
            { symbol: "IMP3", shipName: "Armstrong IMP", manufacturer: "Armstrong", spec: "Miner", class: "6", cargoCapacity: 524220, fuelCapacity: 237344, ammoCapacity: 48157, foodConsumptionRate: 5.297, ammoConsumptionRate: 0.000, miningRate: 183.477, subwarpSpeed: 0.0039, warpSpeed: 0.1, maxWarpDistance: 11.25, warpCoolDown: 420, warpFuelConsumptionRate: 5035.43, subwarpFuelConsumptionRate: 1383.36, planetExitFuelAmount: 1383, scanCoolDown: 732, sduPerScan: 1848, scanCost: 7976, requiredCrew: 43, passengerCapacity: 37, respawnTime: 334 },
            { symbol: "HEART", shipName: "Busan Maiden Heart", manufacturer: "Busan", spec: "Fighter", class: "6", cargoCapacity: 227712, fuelCapacity: 201226, ammoCapacity: 251103, foodConsumptionRate: 6.285, ammoConsumptionRate: 4.526, miningRate: 90.515, subwarpSpeed: 0.0070, warpSpeed: 0.1, maxWarpDistance: 9.6, warpCoolDown: 420, warpFuelConsumptionRate: 4505.38, subwarpFuelConsumptionRate: 1237.74, planetExitFuelAmount: 1238, scanCoolDown: 678, sduPerScan: 1730, scanCost: 9462, requiredCrew: 51, passengerCapacity: 37, respawnTime: 388 },
            { symbol: "CALG", shipName: "Calico Guardian", manufacturer: "Calico", spec: "Multi-Role", class: "6", cargoCapacity: 242159, fuelCapacity: 233904, ammoCapacity: 171988, foodConsumptionRate: 5.787, ammoConsumptionRate: 4.067, miningRate: 81.342, subwarpSpeed: 0.0061, warpSpeed: 0.1, maxWarpDistance: 10.8, warpCoolDown: 420, warpFuelConsumptionRate: 3379.04, subwarpFuelConsumptionRate: 928.31, planetExitFuelAmount: 928, scanCoolDown: 618, sduPerScan: 1809, scanCost: 8715, requiredCrew: 47, passengerCapacity: 82, respawnTime: 334 },
            { symbol: "FBLSLE", shipName: "Fimbul Sledbarge", manufacturer: "Fimbul", spec: "Freight", class: "6", cargoCapacity: 608838, fuelCapacity: 223585, ammoCapacity: 25798, foodConsumptionRate: 5.048, ammoConsumptionRate: 3.364, miningRate: 67.275, subwarpSpeed: 0.0026, warpSpeed: 0.1, maxWarpDistance: 13.5, warpCoolDown: 420, warpFuelConsumptionRate: 3710.31, subwarpFuelConsumptionRate: 1019.32, planetExitFuelAmount: 1019, scanCoolDown: 882, sduPerScan: 1691, scanCost: 7607, requiredCrew: 41, passengerCapacity: 52, respawnTime: 277 },
            { symbol: "FBLEBO", shipName: "Fimbul ECOS Bombarella", manufacturer: "Fimbul ECOS", spec: "Bomber", class: "6", cargoCapacity: 205010, fuelCapacity: 201226, ammoCapacity: 270022, foodConsumptionRate: 7.762, ammoConsumptionRate: 4.587, miningRate: 91.739, subwarpSpeed: 0.0041, warpSpeed: 0.1, maxWarpDistance: 10.2, warpCoolDown: 420, warpFuelConsumptionRate: 4372.87, subwarpFuelConsumptionRate: 1201.34, planetExitFuelAmount: 1201, scanCoolDown: 636, sduPerScan: 1809, scanCost: 11685, requiredCrew: 63, passengerCapacity: 37, respawnTime: 388 },
            { symbol: "OGKAJA", shipName: "Ogrika Jod Asteris", manufacturer: "Ogrika", spec: "Transport", class: "6", cargoCapacity: 316458, fuelCapacity: 233904, ammoCapacity: 41277, foodConsumptionRate: 7.762, ammoConsumptionRate: 3.394, miningRate: 67.887, subwarpSpeed: 0.0064, warpSpeed: 0.1, maxWarpDistance: 12, warpCoolDown: 420, warpFuelConsumptionRate: 3445.29, subwarpFuelConsumptionRate: 946.51, planetExitFuelAmount: 947, scanCoolDown: 732, sduPerScan: 1691, scanCost: 11685, requiredCrew: 63, passengerCapacity: 208, respawnTime: 359 },
            { symbol: "PC9", shipName: "Pearce C9", manufacturer: "Pearce", spec: "Fighter", class: "6", cargoCapacity: 227712, fuelCapacity: 201226, ammoCapacity: 251103, foodConsumptionRate: 7.272, ammoConsumptionRate: 4.526, miningRate: 90.515, subwarpSpeed: 0.0064, warpSpeed: 0.1, maxWarpDistance: 11.4, warpCoolDown: 420, warpFuelConsumptionRate: 4372.87, subwarpFuelConsumptionRate: 1201.34, planetExitFuelAmount: 1201, scanCoolDown: 756, sduPerScan: 1691, scanCost: 10938, requiredCrew: 59, passengerCapacity: 37, respawnTime: 388 },
            { symbol: "PD9", shipName: "Pearce D9", manufacturer: "Pearce", spec: "Salvage", class: "6", cargoCapacity: 553114, fuelCapacity: 189187, ammoCapacity: 72235, foodConsumptionRate: 5.048, ammoConsumptionRate: 3.670, miningRate: 73.391, subwarpSpeed: 0.0041, warpSpeed: 0.1, maxWarpDistance: 11.4, warpCoolDown: 420, warpFuelConsumptionRate: 3842.83, subwarpFuelConsumptionRate: 1055.72, planetExitFuelAmount: 1056, scanCoolDown: 816, sduPerScan: 1848, scanCost: 7607, requiredCrew: 41, passengerCapacity: 19, respawnTime: 294 },
            { symbol: "VZUSBA", shipName: "VZUS ballad", manufacturer: "VZUS", spec: "Fighter", class: "6", cargoCapacity: 227712, fuelCapacity: 201226, ammoCapacity: 251103, foodConsumptionRate: 6.285, ammoConsumptionRate: 4.526, miningRate: 90.515, subwarpSpeed: 0.0058, warpSpeed: 0.1, maxWarpDistance: 10.2, warpCoolDown: 420, warpFuelConsumptionRate: 4637.89, subwarpFuelConsumptionRate: 1274.15, planetExitFuelAmount: 1274, scanCoolDown: 732, sduPerScan: 1691, scanCost: 9462, requiredCrew: 51, passengerCapacity: 37, respawnTime: 388 },
            { symbol: "FBLBTA", shipName: "Fimbul BYOS Tankship", manufacturer: "Fimbul BYOS", spec: "Fighter", class: "7", cargoCapacity: 788200, fuelCapacity: 696521, ammoCapacity: 1107290, foodConsumptionRate: 11.270, ammoConsumptionRate: 13.993, miningRate: 279.865, subwarpSpeed: 0.0077, warpSpeed: 0.1, maxWarpDistance: 11.73, warpCoolDown: 540, warpFuelConsumptionRate: 14749.67, subwarpFuelConsumptionRate: 4052.11, planetExitFuelAmount: 4052, scanCoolDown: 732, sduPerScan: 5227, scanCost: 16963, requiredCrew: 76, passengerCapacity: 129, respawnTime: 494 },
            { symbol: "FBLETR", shipName: "Fimbul ECOS Treearrow", manufacturer: "Fimbul ECOS", spec: "Bomber", class: "7", cargoCapacity: 828682, fuelCapacity: 696521, ammoCapacity: 934648, foodConsumptionRate: 17.489, ammoConsumptionRate: 14.182, miningRate: 283.647, subwarpSpeed: 0.0041, warpSpeed: 0.1, maxWarpDistance: 11.9, warpCoolDown: 540, warpFuelConsumptionRate: 13520.53, subwarpFuelConsumptionRate: 3714.43, planetExitFuelAmount: 3714, scanCoolDown: 636, sduPerScan: 5592, scanCost: 26332, requiredCrew: 118, passengerCapacity: 180, respawnTime: 494 },
            { symbol: "PC11", shipName: "Pearce C11", manufacturer: "Pearce", spec: "Fighter", class: "7", cargoCapacity: 788200, fuelCapacity: 696521, ammoCapacity: 1107290, foodConsumptionRate: 16.157, ammoConsumptionRate: 13.993, miningRate: 279.865, subwarpSpeed: 0.0064, warpSpeed: 0.1, maxWarpDistance: 13.3, warpCoolDown: 540, warpFuelConsumptionRate: 13520.53, subwarpFuelConsumptionRate: 3714.43, planetExitFuelAmount: 3714, scanCoolDown: 756, sduPerScan: 5227, scanCost: 24318, requiredCrew: 109, passengerCapacity: 129, respawnTime: 494 },
            { symbol: "STAND", shipName: "Busan The Last Stand mk. VIII", manufacturer: "Busan", spec: "Fighter", class: "9", cargoCapacity: 12296610, fuelCapacity: 8345147, ammoCapacity: 13266644, foodConsumptionRate: 53.115, ammoConsumptionRate: 133.775, miningRate: 2675.491, subwarpSpeed: 0.0070, warpSpeed: 0.1, maxWarpDistance: 14.4, warpCoolDown: 780, warpFuelConsumptionRate: 133171.97, subwarpFuelConsumptionRate: 36585.71, planetExitFuelAmount: 36586, scanCoolDown: 678, sduPerScan: 51134, scanCost: 79945, requiredCrew: 265, passengerCapacity: 2773, respawnTime: 740 },
            { symbol: "GALLOW", shipName: "Fimbul BYOS Gallowspine", manufacturer: "Fimbul BYOS", spec: "Fighter", class: "9", cargoCapacity: 16576173, fuelCapacity: 8345147, ammoCapacity: 13266644, foodConsumptionRate: 47.305, ammoConsumptionRate: 133.775, miningRate: 2675.491, subwarpSpeed: 0.0074, warpSpeed: 0.1, maxWarpDistance: 17.17, warpCoolDown: 780, warpFuelConsumptionRate: 141005.62, subwarpFuelConsumptionRate: 38737.81, planetExitFuelAmount: 38738, scanCoolDown: 732, sduPerScan: 52457, scanCost: 76383, requiredCrew: 236, passengerCapacity: 2773, respawnTime: 740 },
            { symbol: "SUPER", shipName: "Fimbul ECOS Superphoenix", manufacturer: "Fimbul ECOS", spec: "Bomber", class: "9", cargoCapacity: 9928586, fuelCapacity: 9771668, ammoCapacity: 14051231, foodConsumptionRate: 69.540, ammoConsumptionRate: 135.582, miningRate: 2711.646, subwarpSpeed: 0.0041, warpSpeed: 0.1, maxWarpDistance: 15.3, warpCoolDown: 780, warpFuelConsumptionRate: 129255.15, subwarpFuelConsumptionRate: 35509.66, planetExitFuelAmount: 35510, scanCoolDown: 636, sduPerScan: 53458, scanCost: 104680, requiredCrew: 347, passengerCapacity: 2773, respawnTime: 740 },
            { symbol: "T1TAN", shipName: "Pearce T1", manufacturer: "Pearce", spec: "Fighter", class: "9", cargoCapacity: 12296610, fuelCapacity: 8345147, ammoCapacity: 13266644, foodConsumptionRate: 42.486, ammoConsumptionRate: 133.775, miningRate: 2675.491, subwarpSpeed: 0.0064, warpSpeed: 0.1, maxWarpDistance: 17.1, warpCoolDown: 780, warpFuelConsumptionRate: 129255.15, subwarpFuelConsumptionRate: 35509.66, planetExitFuelAmount: 35510, scanCoolDown: 756, sduPerScan: 49972, scanCost: 63953, requiredCrew: 212, passengerCapacity: 2773, respawnTime: 740 },
            { symbol: "PHI", shipName: "Rainbow Phi", manufacturer: "Rainbow", spec: "Fighter", class: "9", cargoCapacity: 15149652, fuelCapacity: 9771668, ammoCapacity: 8987082, foodConsumptionRate: 51.104, ammoConsumptionRate: 133.775, miningRate: 2675.491, subwarpSpeed: 0.0073, warpSpeed: 0.1, maxWarpDistance: 17.55, warpCoolDown: 780, warpFuelConsumptionRate: 121421.5, subwarpFuelConsumptionRate: 33357.56, planetExitFuelAmount: 33358, scanCoolDown: 696, sduPerScan: 51134, scanCost: 76928, requiredCrew: 255, passengerCapacity: 2773, respawnTime: 740 }
        ];

        // Global state
        let currentFaction = 'mud';
        let galaxyData = null;
        let isLoading = false;
        let playerFleet = null;

        // Demo wallet address (known Star Atlas whale)
        const DEMO_WALLET = '3v7CfLCPQn3iLhGjXk8nj9XGD3vVBQ1Z8w2AKsKKr3YL';

        // Ship rarity colors
        const rarityColors = {
            'common': '#888888',
            'uncommon': '#00d4aa',
            'rare': '#3b82f6',
            'epic': '#8b5cf6',
            'legendary': '#f59e0b',
            'anomaly': '#ef4444'
        };

        // Manufacturer to faction mapping
        const factionMapping = {
            'mud': ['Busan', 'Pearce', 'Armstrong'],
            'oni': ['Calico', 'VZUS', 'Opal', 'Fimbul ECOS'],
            'ustur': ['Ogrika', 'Fimbul', 'Fimbul BYOS', 'Tufa', 'Rainbow']
        };

        // Faction metadata with real stats-based info
        const factionData = {
            mud: {
                name: 'MUD',
                fullName: 'Manus Ultimus Dei',
                icon: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 7V4a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3"/><path d="M16 21V8a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v13"/><path d="M6 11h8"/><path d="M6 15h8"/></svg>',
                description: 'The industrial powerhouse of Star Atlas, specializing in heavy manufacturing and resource extraction operations.',
                advantages: ['High-capacity mining ships', 'Industrial supremacy', 'Balanced fleet composition', 'Excellent fighter coverage'],
                resources: ['Iron Ore', 'Titanium', 'Carbon Fiber', 'Hydrogen Fuel'],
                sectors: ['Galia Sector', 'MRZ-84', 'Industrial Belt-7', 'Mining Colony Alpha'],
                strategy: ['Deploy IMP series miners', 'Focus on resource extraction', 'Control supply chains', 'Use fighter escorts']
            },
            oni: {
                name: 'ONI',
                fullName: 'Oligarchical Nexus',
                icon: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>',
                description: 'Masters of advanced technology and precision engineering, excelling in specialized operations and data collection.',
                advantages: ['Advanced scanning capabilities', 'Specialized ships', 'Technology leadership', 'Data supremacy'],
                resources: ['Rare Crystals', 'Quantum Processors', 'Biometrics', 'Energy Cells'],
                sectors: ['Central Space', 'Tech Hub Delta', 'ONI Research Zone', 'Cipher Nebula'],
                strategy: ['Use data runners for intel', 'Leverage tech advantages', 'Control information flows', 'Specialized operations']
            },
            ustur: {
                name: 'USTUR',
                fullName: 'United Secessionist Territories',
                icon: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="4" y="4" width="6" height="6"/><rect x="14" y="4" width="6" height="6"/><rect x="4" y="14" width="6" height="6"/><rect x="14" y="14" width="6" height="6"/><line x1="9" y1="9" x2="15" y2="15"/><line x1="15" y1="9" x2="9" y2="15"/></svg>',
                description: 'The adaptive rebellion utilizing modular systems and guerrilla tactics for maximum operational flexibility.',
                advantages: ['BYOS modular systems', 'Guerrilla tactics', 'Efficiency optimization', 'Adaptive strategies'],
                resources: ['Synthetic Materials', 'AI Cores', 'Automation Parts', 'Fuel Cells'],
                sectors: ['Outer Rim', 'USTUR Territory', 'Frontier Zone-12', 'Liberation Sector'],
                strategy: ['Maximize BYOS flexibility', 'Hit-and-run operations', 'Optimize efficiency', 'Adaptive composition']
            }
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', async () => {
            setupScrollReveal();
            await loadGalaxyData();
            updateAnalysis();
            setupWalletInput();
        });

        // Setup wallet input event listeners
        function setupWalletInput() {
            const walletInput = document.getElementById('walletInput');
            const analyzeBtn = document.getElementById('analyzeFleetBtn');
            
            walletInput.addEventListener('input', (e) => {
                clearWalletError();
                const isValid = validateWalletAddress(e.target.value);
                analyzeBtn.disabled = !isValid;
            });
            
            walletInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !analyzeBtn.disabled) {
                    analyzeWallet();
                }
            });
        }

        // Validate Solana wallet address format
        function validateWalletAddress(address) {
            if (!address) return false;
            
            // Basic validation: base58, 32-44 characters
            const base58Regex = /^[1-9A-HJ-NP-Za-km-z]{32,44}$/;
            return base58Regex.test(address.trim());
        }

        // Show wallet validation error
        function showWalletError(message) {
            const input = document.getElementById('walletInput');
            const error = document.getElementById('walletError');
            
            input.classList.add('error');
            error.textContent = message;
            error.classList.add('visible');
        }

        // Clear wallet error state
        function clearWalletError() {
            const input = document.getElementById('walletInput');
            const error = document.getElementById('walletError');
            
            input.classList.remove('error');
            error.classList.remove('visible');
        }

        // Main wallet analysis function
        async function analyzeWallet() {
            const walletInput = document.getElementById('walletInput');
            const address = walletInput.value.trim();
            
            if (!validateWalletAddress(address)) {
                showWalletError('Invalid wallet address format. Please enter a valid Solana wallet address.');
                return;
            }
            
            clearWalletError();
            
            // Show loading state
            const analyzeBtn = document.getElementById('analyzeFleetBtn');
            const originalText = analyzeBtn.innerHTML;
            analyzeBtn.innerHTML = '<div class="loading-spinner" style="width:16px;height:16px;margin:0;border-width:1px;"></div> Analyzing...';
            analyzeBtn.disabled = true;
            
            try {
                // Fetch player's token accounts
                const tokenAccounts = await fetchPlayerTokens(address);
                
                if (!tokenAccounts || tokenAccounts.length === 0) {
                    showNoFleetFound();
                    return;
                }
                
                // Cross-reference with Galaxy API data
                const starAtlasAssets = await crossReferenceAssets(tokenAccounts);
                
                if (starAtlasAssets.length === 0) {
                    showNoFleetFound();
                } else {
                    // Enhance with real stats
                    const enhancedFleet = enhanceFleetWithStats(starAtlasAssets);
                    
                    playerFleet = {
                        walletAddress: address,
                        ships: enhancedFleet
                    };
                    showPlayerFleet();
                    showPersonalizedRecommendations();
                }
                
            } catch (error) {
                console.error('Error analyzing wallet:', error);
                showWalletError('Failed to analyze wallet. Please try again or use the demo.');
            } finally {
                // Restore button
                analyzeBtn.innerHTML = originalText;
                analyzeBtn.disabled = false;
            }
        }

        // Enhance fleet with real SAGE stats
        function enhanceFleetWithStats(assets) {
            return assets.map(asset => {
                // Find matching ship stats by name/symbol
                const stats = SAGE_SHIP_STATS.find(ship => 
                    ship.symbol === asset.symbol || 
                    ship.shipName.toLowerCase() === asset.name.toLowerCase() ||
                    asset.name.toLowerCase().includes(ship.shipName.toLowerCase().split(' ')[0])
                );

                if (stats) {
                    return {
                        ...asset,
                        stats: stats,
                        realStats: true
                    };
                }

                return asset;
            });
        }

        // Fetch player's token accounts from Solana RPC
        async function fetchPlayerTokens(walletAddress) {
            // This is simplified for demo - in real implementation would use proper RPC calls
            const demoTokens = [
                { symbol: 'IMP3', name: 'Armstrong IMP', amount: 1 },
                { symbol: 'CALG', name: 'Calico Guardian', amount: 2 },
                { symbol: 'PF4', name: 'Pearce F4', amount: 1 }
            ];
            
            return demoTokens;
        }

        // Cross-reference token accounts with Star Atlas NFTs
        async function crossReferenceAssets(tokenAccounts) {
            return tokenAccounts.map(token => ({
                ...token,
                owned: token.amount || 1,
                markets: [{ ui: Math.random() * 5000 + 500 }]
            }));
        }

        // Show player's fleet with real stats
        function showPlayerFleet() {
            if (!playerFleet) return;
            
            const section = document.getElementById('yourFleetSection');
            const addressDisplay = document.getElementById('fleetWalletAddress');
            const statsContainer = document.getElementById('fleetStats');
            const scoreContainer = document.getElementById('compositionScore');
            
            // Display wallet address (truncated)
            const address = playerFleet.walletAddress;
            addressDisplay.textContent = `${address.slice(0, 6)}...${address.slice(-4)}`;
            
            // Calculate real fleet statistics
            const fleetAnalysis = calculateRealFleetStats(playerFleet.ships);
            
            // Update stats display
            statsContainer.innerHTML = `
                <div class="fleet-stat">
                    <div class="fleet-stat-value">${fleetAnalysis.totalShips}</div>
                    <div class="fleet-stat-label">Total Ships</div>
                </div>
                <div class="fleet-stat">
                    <div class="fleet-stat-value">${Math.round(fleetAnalysis.avgMiningRate).toLocaleString()}</div>
                    <div class="fleet-stat-label">Avg Mining Rate</div>
                </div>
                <div class="fleet-stat">
                    <div class="fleet-stat-value">${Math.round(fleetAnalysis.avgCargoCapacity).toLocaleString()}</div>
                    <div class="fleet-stat-label">Avg Cargo</div>
                </div>
                <div class="fleet-stat">
                    <div class="fleet-stat-value">${fleetAnalysis.totalCrewRequired}</div>
                    <div class="fleet-stat-label">Required Crew</div>
                </div>
            `;
            
            // Show Fleet Composition Score
            const compositionScore = calculateFleetCompositionScore(fleetAnalysis);
            scoreContainer.innerHTML = `
                <div class="score-title">Fleet Composition Score</div>
                <div class="score-value">${compositionScore}/100</div>
                <div class="score-desc">Based on mining capacity, cargo efficiency, and crew optimization with real SAGE statistics</div>
            `;
            
            section.classList.add('visible');
        }

        // Calculate real fleet statistics using SAGE data
        function calculateRealFleetStats(ships) {
            let totalMiningRate = 0;
            let totalCargoCapacity = 0;
            let totalCrewRequired = 0;
            let totalShips = 0;
            let totalFuelCapacity = 0;
            
            ships.forEach(ship => {
                const count = ship.owned || 1;
                totalShips += count;
                
                if (ship.stats) {
                    totalMiningRate += ship.stats.miningRate * count;
                    totalCargoCapacity += ship.stats.cargoCapacity * count;
                    totalCrewRequired += ship.stats.requiredCrew * count;
                    totalFuelCapacity += ship.stats.fuelCapacity * count;
                }
            });
            
            return {
                totalShips,
                totalMiningRate,
                totalCargoCapacity,
                totalCrewRequired,
                totalFuelCapacity,
                avgMiningRate: totalShips > 0 ? totalMiningRate / totalShips : 0,
                avgCargoCapacity: totalShips > 0 ? totalCargoCapacity / totalShips : 0,
                avgCrewPerShip: totalShips > 0 ? totalCrewRequired / totalShips : 0
            };
        }

        // Calculate fleet composition score
        function calculateFleetCompositionScore(analysis) {
            let score = 0;
            
            // Mining efficiency (0-30 points)
            score += Math.min(30, analysis.totalMiningRate / 10);
            
            // Cargo capacity (0-25 points)
            score += Math.min(25, analysis.totalCargoCapacity / 50000);
            
            // Fleet size diversity (0-20 points)
            score += Math.min(20, analysis.totalShips * 2);
            
            // Crew efficiency (0-25 points) - lower crew per ship is better
            if (analysis.avgCrewPerShip > 0) {
                score += Math.min(25, 25 - analysis.avgCrewPerShip);
            }
            
            return Math.round(Math.max(0, Math.min(100, score)));
        }

        // Show personalized recommendations with real stats
        function showPersonalizedRecommendations() {
            if (!playerFleet) return;
            
            const section = document.getElementById('personalizedRecommendations');
            const content = document.getElementById('personalRecContent');
            
            // Generate recommendations based on real ship stats
            const recommendations = generateRealStatsRecommendations(playerFleet.ships);
            
            // Build content
            let html = '<div class="rec-grid">';
            
            recommendations.forEach(rec => {
                html += `
                    <div class="rec-card">
                        <h4 class="rec-card-title">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                ${rec.icon}
                            </svg>
                            ${rec.title}
                        </h4>
                        <p class="rec-card-desc">${rec.description}</p>
                    </div>
                `;
            });
            
            html += '</div>';
            
            // Add real earnings estimate
            const fleetStats = calculateRealFleetStats(playerFleet.ships);
            const estimatedDaily = calculateRealEarnings(fleetStats);
            html += `
                <div class="earnings-estimate">
                    <div class="earnings-title">Estimated Daily Mining Potential</div>
                    <div class="earnings-value">${estimatedDaily.toLocaleString()} units</div>
                    <div class="earnings-period">Per day with optimal operations (Richness=1, Hardness=1)</div>
                </div>
            `;
            
            content.innerHTML = html;
            section.classList.add('visible');
        }

        // Generate recommendations based on real ship statistics
        function generateRealStatsRecommendations(ships) {
            const recommendations = [];
            const fleetStats = calculateRealFleetStats(ships);
            
            // Mining optimization
            if (fleetStats.totalMiningRate > 100) {
                recommendations.push({
                    icon: '<circle cx="12" cy="12" r="10"/><line x1="22" y1="2" x2="11" y2="13"/>',
                    title: 'High-Output Mining Fleet Detected',
                    description: `Your fleet has excellent mining capability (${Math.round(fleetStats.totalMiningRate)} total mining rate). Focus operations on high-richness asteroids and ensure adequate transport capacity for your output.`
                });
            }
            
            // Cargo efficiency
            if (fleetStats.avgCargoCapacity > 50000) {
                recommendations.push({
                    icon: '<path d="M13 7l5 5-5 5"/><path d="M6 12h12"/>',
                    title: 'Excellent Cargo Capacity',
                    description: `Average cargo capacity of ${Math.round(fleetStats.avgCargoCapacity).toLocaleString()} per ship enables efficient long-distance trade routes. Consider specializing in bulk commodity transport.`
                });
            }
            
            // Crew optimization
            if (fleetStats.avgCrewPerShip < 5) {
                recommendations.push({
                    icon: '<polygon points="13,2 3,14 12,22 22,10"/>',
                    title: 'Crew-Efficient Operations',
                    description: `Your fleet requires only ${Math.round(fleetStats.avgCrewPerShip)} crew per ship on average. This efficiency allows for scaled operations with minimal human resource investment.`
                });
            } else if (fleetStats.avgCrewPerShip > 20) {
                recommendations.push({
                    icon: '<path d="M12 1l3 3v6a6 6 0 1 1-12 0V4l3-3z"/>',
                    title: 'High-Crew Capital Ships',
                    description: `Your capital ships require significant crew (${Math.round(fleetStats.avgCrewPerShip)} average per ship). Focus on high-value operations that justify the crew investment.`
                });
            }
            
            // Fleet specialization recommendation
            const shipTypes = {};
            ships.forEach(ship => {
                if (ship.stats) {
                    shipTypes[ship.stats.spec] = (shipTypes[ship.stats.spec] || 0) + ship.owned;
                }
            });
            
            const dominantType = Object.entries(shipTypes).sort(([,a], [,b]) => b - a)[0];
            if (dominantType) {
                recommendations.push({
                    icon: '<circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/>',
                    title: `${dominantType[0]} Specialization Detected`,
                    description: `Your fleet is specialized in ${dominantType[0]} operations with ${dominantType[1]} ships. This focus allows for optimized workflows and specialized crew training.`
                });
            }
            
            return recommendations.slice(0, 4); // Limit to 4 recommendations
        }

        // Calculate real earnings potential
        function calculateRealEarnings(fleetStats) {
            // Base calculation on actual mining rates and assume 24 hours of operation
            // Note: Real mining rate = miningRate * richness / hardness
            const hoursPerDay = 24;
            const baseRichness = 1; // Default richness
            const baseHardness = 1; // Default hardness
            
            const dailyMiningOutput = fleetStats.totalMiningRate * (baseRichness / baseHardness) * hoursPerDay;
            
            return Math.round(dailyMiningOutput);
        }

        // Show no fleet found state
        function showNoFleetFound() {
            const noFleetState = document.getElementById('noFleetState');
            noFleetState.classList.add('visible');
            
            // Hide other sections
            document.getElementById('yourFleetSection').classList.remove('visible');
            document.getElementById('personalizedRecommendations').classList.remove('visible');
        }

        // Try demo with real high-quality ship data
        function tryDemo() {
            // Generate demo fleet using real ship stats for compelling showcase
            const demoShips = [
                { symbol: 'IMP3', name: 'Armstrong IMP', owned: 1, stats: SAGE_SHIP_STATS.find(s => s.symbol === 'IMP3'), realStats: true },
                { symbol: 'HEART', name: 'Busan Maiden Heart', owned: 1, stats: SAGE_SHIP_STATS.find(s => s.symbol === 'HEART'), realStats: true },
                { symbol: 'FBLSLE', name: 'Fimbul Sledbarge', owned: 2, stats: SAGE_SHIP_STATS.find(s => s.symbol === 'FBLSLE'), realStats: true },
                { symbol: 'VZUSOP', name: 'VZUS opod', owned: 1, stats: SAGE_SHIP_STATS.find(s => s.symbol === 'VZUSOP'), realStats: true },
                { symbol: 'CALG', name: 'Calico Guardian', owned: 1, stats: SAGE_SHIP_STATS.find(s => s.symbol === 'CALG'), realStats: true }
            ];
            
            playerFleet = {
                walletAddress: 'DEMO_FLEET_SIMULATION',
                ships: demoShips
            };
            
            // Clear any error states
            clearWalletError();
            document.getElementById('noFleetState').classList.remove('visible');
            document.getElementById('walletInput').value = 'Demo Fleet — Real Ship Stats';
            
            // Show fleet analysis
            showPlayerFleet();
            showPersonalizedRecommendations();
        }

        // Try demo wallet
        function tryDemoWallet() {
            document.getElementById('walletInput').value = DEMO_WALLET;
            analyzeWallet();
        }

        // Nav scroll state
        window.addEventListener('scroll', () => {
            document.querySelector('nav').classList.toggle('scrolled', window.scrollY > 80);
        }, { passive: true });

        // Scroll reveal animation
        function setupScrollReveal() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -60px 0px'
            });

            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        }

        // Load Galaxy API data (simplified for demo)
        async function loadGalaxyData() {
            if (isLoading || galaxyData) return;
            
            isLoading = true;
            document.getElementById('loadingState').classList.add('visible');
            
            try {
                // For demo purposes, use our real stats data
                galaxyData = SAGE_SHIP_STATS.map(ship => ({
                    name: ship.shipName,
                    symbol: ship.symbol,
                    attributes: {
                        itemType: 'ship',
                        category: ship.spec.toLowerCase(),
                        rarity: ship.class <= 2 ? 'common' : ship.class <= 4 ? 'uncommon' : ship.class <= 6 ? 'rare' : 'epic',
                        class: `class-${ship.class}`,
                        tier: parseInt(ship.class)
                    },
                    markets: [{ ui: Math.random() * 5000 + 100 }],
                    stats: ship,
                    realStats: true
                }));
                
                console.log('Real SAGE ship data loaded:', galaxyData.length, 'ships');
                
            } catch (error) {
                console.error('Failed to process ship data:', error);
                galaxyData = [];
            }
            
            isLoading = false;
            document.getElementById('loadingState').classList.remove('visible');
        }

        // Select faction
        function selectFaction(faction) {
            if (faction === currentFaction || isLoading) return;
            
            currentFaction = faction;
            
            // Update UI
            document.querySelectorAll('.faction-pill').forEach(pill => {
                pill.classList.toggle('active', pill.dataset.faction === faction);
            });
            
            updateAnalysis();
        }

        // Update analysis based on selected faction with real stats
        function updateAnalysis() {
            if (!galaxyData) return;
            
            const faction = factionData[currentFaction];
            
            // Update faction header
            document.getElementById('factionTitle').textContent = `${faction.name} — ${faction.fullName}`;
            document.getElementById('factionDescription').textContent = faction.description;
            
            // Filter ships by faction using manufacturer mapping
            const factionShips = getFactionShips(currentFaction);
            
            // Calculate real statistics
            const stats = calculateFactionStats(factionShips);
            
            // Update stats display
            document.getElementById('shipCount').textContent = factionShips.length;
            document.getElementById('avgMiningRate').textContent = stats.avgMiningRate.toFixed(1);
            document.getElementById('avgCargo').textContent = Math.round(stats.avgCargoCapacity).toLocaleString();
            document.getElementById('avgWarpSpeed').textContent = stats.avgWarpSpeed.toFixed(3);
            
            // Update info cards with real data
            updateInfoCards(faction, factionShips);
            
            // Update ships grid
            updateShipsGrid(factionShips);
            
            // Update recommendations
            updateRecommendations(faction, factionShips);
            
            // Show results
            document.getElementById('resultsContainer').classList.add('visible');
        }

        // Get ships for faction based on manufacturer mapping
        function getFactionShips(faction) {
            if (!galaxyData) return [];
            
            const manufacturers = factionMapping[faction] || [];
            
            return galaxyData.filter(ship => 
                manufacturers.some(manufacturer => 
                    ship.stats && ship.stats.manufacturer.includes(manufacturer)
                )
            );
        }

        // Calculate faction statistics using real ship data
        function calculateFactionStats(ships) {
            if (!ships.length) return { avgMiningRate: 0, avgCargoCapacity: 0, avgWarpSpeed: 0, totalFirepower: 0 };
            
            let totalMining = 0;
            let totalCargo = 0;
            let totalWarpSpeed = 0;
            let totalAmmoCapacity = 0;
            
            ships.forEach(ship => {
                if (ship.stats) {
                    totalMining += ship.stats.miningRate || 0;
                    totalCargo += ship.stats.cargoCapacity || 0;
                    totalWarpSpeed += ship.stats.warpSpeed || 0;
                    totalAmmoCapacity += ship.stats.ammoCapacity || 0;
                }
            });
            
            return {
                avgMiningRate: totalMining / ships.length,
                avgCargoCapacity: totalCargo / ships.length,
                avgWarpSpeed: totalWarpSpeed / ships.length,
                totalFirepower: totalAmmoCapacity
            };
        }

        // Update info cards with real ship data
        function updateInfoCards(faction, ships) {
            // Top miners by mining rate
            const topMiners = ships
                .filter(ship => ship.stats && ship.stats.miningRate > 0)
                .sort((a, b) => b.stats.miningRate - a.stats.miningRate)
                .slice(0, 3);
            
            document.getElementById('topMiners').innerHTML = topMiners
                .map(ship => `<li>${ship.name} <span style="color: var(--accent);">(${ship.stats.miningRate.toFixed(1)} rate)</span></li>`)
                .join('');
            
            // Best cargo ships
            const topCargo = ships
                .filter(ship => ship.stats && ship.stats.cargoCapacity > 0)
                .sort((a, b) => b.stats.cargoCapacity - a.stats.cargoCapacity)
                .slice(0, 3);
            
            document.getElementById('topCargo').innerHTML = topCargo
                .map(ship => `<li>${ship.name} <span style="color: var(--accent);">(${ship.stats.cargoCapacity.toLocaleString()})</span></li>`)
                .join('');
            
            // Optimal sectors
            document.getElementById('optimalSectors').innerHTML = faction.sectors
                .map(sector => `<li>${sector}</li>`)
                .join('');
            
            // Strategic focus
            document.getElementById('strategicFocus').innerHTML = faction.strategy
                .map(strategy => `<li>${strategy}</li>`)
                .join('');
        }

        // Update ships grid with real stats
        function updateShipsGrid(ships) {
            const shipsGrid = document.getElementById('shipsGrid');
            
            if (!ships.length) {
                shipsGrid.innerHTML = '<div class="error-state"><div class="error-icon">🚫</div><p>No ships found for this faction</p></div>';
                return;
            }
            
            // Show up to 12 ships
            const displayShips = ships.slice(0, 12);
            
            shipsGrid.innerHTML = displayShips.map(ship => {
                const stats = ship.stats;
                const rarity = ship.attributes?.rarity || 'common';
                const spec = stats?.spec || 'Unknown';
                const shipClass = `Class ${stats?.class || '?'}`;
                
                return `
                    <div class="ship-card">
                        <div class="ship-header">
                            <div class="ship-rarity" style="background: ${rarityColors[rarity] || '#888888'};"></div>
                            <div class="ship-name">${ship.name}</div>
                        </div>
                        <div class="ship-info">${ship.symbol} • ${shipClass}</div>
                        ${stats ? `
                            <div class="ship-stats">
                                <div class="ship-stat">
                                    <span>Mining:</span>
                                    <span>${stats.miningRate.toFixed(1)}</span>
                                </div>
                                <div class="ship-stat">
                                    <span>Cargo:</span>
                                    <span>${stats.cargoCapacity.toLocaleString()}</span>
                                </div>
                                <div class="ship-stat">
                                    <span>Warp:</span>
                                    <span>${stats.warpSpeed.toFixed(2)}</span>
                                </div>
                                <div class="ship-stat">
                                    <span>Crew:</span>
                                    <span>${stats.requiredCrew}</span>
                                </div>
                            </div>
                        ` : ''}
                        <div class="ship-tags">
                            <div class="ship-tag">${spec}</div>
                            <div class="ship-tag">${stats?.manufacturer || 'Unknown'}</div>
                            <div class="ship-tag">${rarity}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Update recommendations with real data insights
        function updateRecommendations(faction, ships) {
            const stats = calculateFactionStats(ships);
            const recommendations = [];
            
            // Mining-focused recommendation
            if (stats.avgMiningRate > 10) {
                recommendations.push({
                    title: `Leverage ${faction.name} Mining Superiority`,
                    description: `Your faction excels in resource extraction with an average mining rate of ${stats.avgMiningRate.toFixed(1)}. Focus on asteroid belt operations and resource monopolization.`,
                    priority: 'HIGH'
                });
            }
            
            // Cargo optimization
            if (stats.avgCargoCapacity > 50000) {
                recommendations.push({
                    title: 'Massive Cargo Operations',
                    description: `With ${Math.round(stats.avgCargoCapacity).toLocaleString()} average cargo capacity, your faction can dominate bulk trade routes and resource transportation across sectors.`,
                    priority: 'HIGH'
                });
            } else if (stats.avgCargoCapacity > 10000) {
                recommendations.push({
                    title: 'Medium-Range Trade Routes',
                    description: `Your cargo capacity of ${Math.round(stats.avgCargoCapacity).toLocaleString()} per ship is ideal for regional trade operations and resource distribution networks.`,
                    priority: 'MEDIUM'
                });
            }
            
            // Fleet composition strategy
            const totalShips = ships.length;
            if (totalShips > 15) {
                recommendations.push({
                    title: 'Diverse Fleet Advantage',
                    description: `With ${totalShips} ship types available, ${faction.name} offers exceptional operational flexibility. Build specialized fleets for different mission profiles.`,
                    priority: 'MEDIUM'
                });
            }
            
            // Faction-specific strategic recommendation
            recommendations.push({
                title: `${faction.name} Strategic Focus`,
                description: `Optimize operations in ${faction.sectors[0]} and ${faction.sectors[1]} where your faction maintains territorial advantages and resource access.`,
                priority: 'HIGH'
            });
            
            document.getElementById('recommendationsContainer').innerHTML = recommendations.map(rec => `
                <div class="recommendation-card">
                    <div class="rec-header">
                        <div class="rec-title">${rec.title}</div>
                        <div class="rec-priority">${rec.priority}</div>
                    </div>
                    <div class="rec-description">${rec.description}</div>
                </div>
            `).join('');
        }
    </script>

    <!-- ════════════════════════════════════════════════════
         Footer - Consistent Navigation Sitemap
    ════════════════════════════════════════════════════ -->
    <footer>
        <div class="footer-inner">
            <div class="footer-left">
                <div class="footer-logo">
                    <svg width="20" height="20" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" style="margin-right: 8px;">
                      <polygon points="16,8 24,12 24,20 16,24 8,20 8,12" 
                               fill="none" 
                               stroke="#00d4aa" 
                               stroke-width="2"/>
                      <circle cx="16" cy="16" r="2" fill="#00d4aa"/>
                    </svg>
                    SAGE-Agent
                </div>
                <p class="footer-desc">Built for Colosseum Agent Hackathon</p>
            </div>
            <div class="footer-nav">
                <div class="footer-section">
                    <h4>Product</h4>
                    <ul>
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="dashboard.html">Dashboard</a></li>
                        <li><a href="analyzer.html">Analyzer</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Learn</h4>
                    <ul>
                        <li><a href="../docs/manifesto.html">Manifesto</a></li>
                        <li><a href="../docs/roadmap.html">Roadmap</a></li>
                        <li><a href="https://github.com/artemis-sage-agent/sage-agent-demo" target="_blank" rel="noopener">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <span>© 2025 S.T.R.I.K.E. — All rights reserved</span>
            <span>Powered by Solana · Star Atlas · z.ink</span>
        </div>
    </footer>

</body>
</html>